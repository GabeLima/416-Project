{"version":3,"sources":["api/index.js","auth/index.js","context/socket.js","config.js","components/Paint.js","store/index.js","game/index.js","components/CreateGame.js","components/LobbyCard.js","components/PlayerCard.js","components/GameLobby.js","components/Tags.js","components/PublishedGameCard.js","components/SearchResults.js","components/LiveGameCard.js","components/HomeScreen.js","components/AccountScreen.js","components/ComicGameInProgressScreen.js","components/StoryGameInProgressScreen.js","components/HeaderBar.js","components/Profile.js","components/LoginScreen.js","components/RegisterScreen.js","components/StoryCard.js","components/GameComment.js","components/GameResult.js","components/AlertModal.js","App.js","index.js","game/constants.js"],"names":["axios","defaults","withCredentials","api","create","baseURL","apis","getLoggedIn","get","registerUser","payload","post","loginUser","logoutUser","getUserByUsername","username","getUserSecurityQuestion","email","resetPassword","put","getUser","searchGames","query","updateUser","updateFollowers","removeUser","delete","password","changePassword","AuthContext","createContext","console","log","AuthActionType","AuthContextProvider","props","useState","user","loggedIn","auth","setAuth","history","useHistory","useEffect","authReducer","action","type","a","store","response","status","data","push","setErrorMessage","userData","errorMsg","errorMessage","setState","securityQuestion","Provider","value","children","socket","socketio","connect","SocketContext","on","Paint","useContext","p","Painterro","defaultTool","hiddenTools","saveHandler","image","done","emit","asBlob","show","handleGetPicture","useCallback","save","off","GlobalStoreContext","GlobalStoreActionType","GlobalStoreContextProvider","searchQuery","isComic","setStore","storeReducer","handleSearch","handleChangeMode","GlobalGameContext","GlobalGameActionType","CREATE_GAME","START_ROUND","SET_PREVIOUS_PANEL","UPDATE_GAME_STATUS","RESET_GAME_INFO","PLAYER_LIST_UPDATE","GlobalGameContextProvider","gameID","players","gameStatus","creator","numRounds","timePerRound","currentRound","tags","storyNumber","previousPanel","game","setGame","LOAD_LOBBY","PLAYING","createGame","gameEvents","joinGame","setPreviousPanel","savePanel","ID","imageID","text","textID","playerLeftLobby","length","gameInfo","joinSuccess","roundEnd","ROUND_END","joiningGame","startRound","newStoryNumber","gameOver","loadGamePage","once","GAME_OVER","JOINING_GAME","crypto","require","CreateGame","setTimePerRound","setNumRounds","selectedTags","setSelectedTags","tagOptions","handleTagChange","event","id","target","tagIndex","substring","indexOf","tag","checked","includes","i","filter","item","index","customTags","setCustomTags","currentNumTags","split","v","canCreate","Box","alignItems","sx","display","backgroundColor","Typography","variant","noWrap","component","align","justifyContent","width","marginLeft","marginTop","flexDirection","Slider","defaultValue","step","min","max","valueLabelDisplay","marks","label","onChangeCommitted","newValue","FormGroup","sc","bgcolor","map","disabled","FormControlLabel","labelPlacement","control","Checkbox","onChange","style","color","TextField","fullWidth","InputLabelProps","borderRadius","borderStyle","borderColor","stopPropagation","preventDefault","height","Button","padding","fontSize","onClick","selectedTags_copy","slice","trim","forEach","elem","randomBytes","toString","bull","mx","transform","LobbyCard","card","title","Array","CardContent","textDecoration","nowrap","gutterBottom","List","minHeight","maxHeight","overflow","minWidth","maxWidth","Card","borderWidth","PlayerCard","isCurrentUser","ListItem","fontWeight","GameLobby","playerList","currentUser","isOwner","gap","flexWrap","player","Tags","Grid","Container","PublishedGameCard","votes","comments","panels","numVotes","setNumVotes","numComments","setNumComments","commWinner","setCommWinner","setIsOwner","count","win","m","container","xs","IconButton","mb","pt","showBullets","showNavs","images","spacing","pb","SearchResults","results","setResults","setQuery","isUserSearch","setIsUserSearch","currentSort","setCurrentSort","search","filteredResults","res","success","currentSortType","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleMenuClose","textContent","sort","x","y","x_date","Date","createdAt","y_date","x_votes","y_votes","communityVotes","arr","pubNewOption","MenuItem","pubOldOption","moreCommentsOption","lessCommentsOption","moreVotesOption","lessVotesOption","selected","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","Link","underline","href","className","sm","size","edge","currentTarget","Badge","direction","LiveGameCard","GameToggle","alignment","setAlignment","ToggleButtonGroup","exclusive","newAlignment","px","ToggleButton","HomeScreen","publishedGames","message","postDate","pr","mt","onKeyPress","code","name","pageURL","AccountScreen","leftTheme","createTheme","palette","primary","main","secondary","rightTheme","formData","FormData","newPassword","newPasswordVerify","then","changeUser","deleteUser","CssBaseline","ThemeProvider","theme","border","noValidate","onSubmit","margin","required","autoComplete","autoFocus","ComicGameInProgressScreen","asDataURL","window","ptro","setTimeout","gameFailure","BLANK_IMAGE_ID","src","class","StoryGameInProgressScreen","TextareaAutosize","rows","maxRows","HomeButton","startIcon","LoginButton","SiteToggle","React","SearchBar","Search","styled","position","shape","alpha","common","white","marginRight","breakpoints","up","SearchIconWrapper","pointerEvents","StyledInputBase","InputBase","paddingLeft","transition","transitions","placeholder","inputProps","AccountDropdown","setLoggedIn","anchorElUser","setAnchorElUser","handleMenuClick","Tooltip","Avatar","alt","getContentAnchorEl","ListItemIcon","HeaderBar","AppBar","Toolbar","flexGrow","FollowButton","isFollowing","setIsFollowing","userInfo","follow_text","followers","following","removedI","splice","Profile","params","useParams","setUserInfo","rendered","setRendered","callGetUser","userI","LoginScreen","state","handleLoginSubmit","handleEmailSubmit","handleResetPassword","securityAnswer","alignContent","RegisterScreen","passwordVerify","StoryCard","content","winner","columnSpacing","GameComment","ml","mr","getMonth","getDate","getFullYear","GameResult","textAlign","story","multiline","AlertModal","setOpen","handleOpen","handleCloseModal","Modal","top","left","boxShadow","App","default_theme","background","default","path","exact","ReactDOM","render","StrictMode","document","getElementById","module","exports","LEAVING_GAME","START_GAME","LOBBY","DONE","BLANK_TEXT_ID"],"mappings":"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","file":"static/js/main.7b8845b7.chunk.js","sourcesContent":["import axios from 'axios'\r\naxios.defaults.withCredentials = true;\r\nconst api = axios.create({\r\n    //baseURL: 'http://localhost:4000/api' //LOCAL BUILD\r\n    baseURL: 'https://derit.herokuapp.com/api'\r\n\r\n})\r\nexport const getLoggedIn = () => api.get(`/loggedIn/`);\r\nexport const registerUser = (payload) => api.post(`/register/`, payload)\r\nexport const loginUser = (payload) => api.post(`/user/`, payload)\r\nexport const logoutUser = () => api.get(`/logout/`)\r\nexport const getUserByUsername = (username) => api.get(`/user/${username}`)\r\nexport const getUserSecurityQuestion = (email) => api.get(`/user/email/${email}`)\r\nexport const resetPassword = (payload) => api.put(`/resetPassword/`, payload)\r\n\r\nexport const getUser = (username) => api.get(`/user/${username}`);\r\nexport const searchGames = (query) => api.get(`/search/${query}`);\r\n\r\n\r\nexport const updateUser = (payload) => api.put('/user/updateInfo', payload);\r\nexport const updateFollowers = (payload) => api.put('/user/followers', payload);\r\nexport const removeUser = (payload) => api.delete(`/user/delete/${payload.email}/${payload.password}`);\r\n\r\nexport const changePassword = (payload) => api.put(`/changePassword/`, payload);\r\n\r\n\r\nconst apis = {\r\n    getLoggedIn,\r\n    registerUser,\r\n    loginUser,\r\n    logoutUser, \r\n    getUserByUsername,\r\n    getUserSecurityQuestion,\r\n    resetPassword,\r\n    getUser,\r\n    searchGames,\r\n    updateUser,\r\n    updateFollowers,\r\n    removeUser,\r\n    changePassword\r\n}\r\n\r\nexport default apis\r\n","import React, { createContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport api from '../api'\r\n\r\nconst AuthContext = createContext();\r\nconsole.log(\"create AuthContext: \" + AuthContext);\r\n\r\n// THESE ARE ALL THE TYPES OF UPDATES TO OUR AUTH STATE THAT CAN BE PROCESSED\r\nexport const AuthActionType = {\r\n    GET_LOGGED_IN: \"GET_LOGGED_IN\",\r\n    REGISTER_USER: \"REGISTER_USER\",\r\n    LOGIN_USER: \"LOGIN_USER\",\r\n    LOGOUT_USER: \"LOGOUT_USER\",\r\n}\r\n\r\nfunction AuthContextProvider(props) {\r\n    const [auth, setAuth] = useState({\r\n        user: null,\r\n        loggedIn: false\r\n    });\r\n    const history = useHistory();\r\n\r\n    //On load we check if the user is logged in or not\r\n    useEffect(() => {\r\n        auth.getLoggedIn();\r\n    }, []);\r\n\r\n    const authReducer = (action) => {\r\n        const { type, payload } = action;\r\n        switch (type) {\r\n            case AuthActionType.GET_LOGGED_IN: {\r\n                console.log(\"Inside GET_LOGGED_IN reducer, loggedIn: \", payload.loggedIn);\r\n                return setAuth({\r\n                    user: payload.user,\r\n                    loggedIn: payload.loggedIn\r\n                });\r\n            }\r\n            case AuthActionType.REGISTER_USER: {\r\n                console.log(\"Inside REGISTER_USER reducer, loggedIn: \", true);\r\n                return setAuth({\r\n                    user: payload.user,\r\n                    loggedIn: true\r\n                })\r\n            }\r\n            case AuthActionType.LOGIN_USER: {\r\n                console.log(\"Inside LOGIN_USER reducer, loggedIn: \", payload.loggedIn);\r\n                return setAuth({\r\n                    user: payload.user,\r\n                    loggedIn: payload.loggedIn //Assuming that if the login user reducer is called, we're loggedIn\r\n                })\r\n            }\r\n            case AuthActionType.LOGOUT_USER: {\r\n                console.log(\"Inside logout_USER reducer, loggedIn: \", payload.loggedIn);\r\n                return setAuth({\r\n                    user: null,\r\n                    loggedIn: false //Assuming that if the login user reducer is called, we're loggedIn\r\n                })\r\n            }\r\n            default:\r\n                return auth;\r\n        }\r\n    }\r\n\r\n    auth.logoutUser = async function (store) {\r\n        try{\r\n            const response = await api.logoutUser();\r\n            if (response.status === 200) {\r\n                authReducer({\r\n                    type: AuthActionType.GET_LOGGED_IN,\r\n                    payload: {\r\n                        loggedIn: response.data.loggedIn,\r\n                        user: response.data.user\r\n                    }\r\n                });\r\n                history.push(\"/\");\r\n            }\r\n        }\r\n        catch(Exception){\r\n            console.log(\"Exception caught!\");\r\n            let errorMsg = \"Something went wrong logging you out.\";\r\n            store.setErrorMessage(errorMsg);\r\n        }\r\n    }\r\n\r\n\r\n    auth.getLoggedIn = async function () {\r\n        try{\r\n            const response = await api.getLoggedIn();\r\n            if (response.status === 200) {\r\n                authReducer({\r\n                    type: AuthActionType.GET_LOGGED_IN,\r\n                    payload: {\r\n                        loggedIn: response.data.loggedIn,\r\n                        user: response.data.user\r\n                    }\r\n                });\r\n                // history.push(\"/\");\r\n                //Load the home page here\r\n            }\r\n        }\r\n        catch{\r\n            console.log(\"Got an error from auth.getLoggedIn\");\r\n        }\r\n    }\r\n\r\n    auth.registerUser = async function(userData, store) {\r\n        try{\r\n            console.log(\"userData: \", userData);\r\n            const response = await api.registerUser(userData);      \r\n            if (response.status === 200) {\r\n                authReducer({\r\n                    type: AuthActionType.REGISTER_USER,\r\n                    payload: {\r\n                        user: response.data.user\r\n                    }\r\n                })\r\n                history.push(\"/\");\r\n                //Load the home page here\r\n            }\r\n        }\r\n        catch(Exception){\r\n            let errorMsg = Exception.response.data.errorMessage;\r\n            store.setErrorMessage(errorMsg);\r\n        }\r\n    }\r\n\r\n    auth.loginUser = async function(userData, store) {\r\n        console.log(\"Inside auth.loginUser with userData: \", userData);\r\n        try{\r\n            const response = await api.loginUser(userData);\r\n            console.log(\"Users gotten from the database: \", response);\r\n            if (response.status === 200) {\r\n                console.log(\"Login status (from loginUser reducer: \", response.data.loggedIn);\r\n                console.log(\"User data: \", response.data.user);\r\n                authReducer({\r\n                    type: AuthActionType.LOGIN_USER,\r\n                    payload: {\r\n                        loggedIn: true,\r\n                        user: response.data.user\r\n                    }\r\n                })\r\n                history.push(\"/\");\r\n                //Load the home page here\r\n            }\r\n        }catch(Exception){\r\n            console.log(\"Exception caught!\");\r\n            let errorMsg = Exception.response.data.errorMessage;\r\n            store.setErrorMessage(errorMsg);\r\n        }\r\n    }\r\n\r\n\r\n    auth.getUserSecurityQuestion = async function(userData, setState, store) {\r\n        console.log(\"Inside auth.getUserSecurityQuestion with userData: \", userData);\r\n        try{\r\n            const response = await api.getUserSecurityQuestion(userData.email);\r\n            console.log(\"Users gotten from the database: \", response);\r\n            if (response.status === 200) {\r\n                setState({securityQuestion: response.data.securityQuestion, email: userData.email});\r\n            }\r\n        }catch(Exception){\r\n            console.log(\"Exception caught!\");\r\n            store.setErrorMessage(\"Please enter a valid email\")\r\n        }\r\n    }\r\n\r\n\r\n    auth.resetPassword = async function(userData, setState, store) {\r\n        console.log(\"Inside auth.resetPassword with userData: \", userData);\r\n        try{\r\n            const response = await api.resetPassword(userData);\r\n            console.log(\"Reset password response gotten from the database: \", response);\r\n            if (response.status === 200) {\r\n                setState(\"normalLogin\");\r\n                store.setErrorMessage(\"Your password has been successfully reset!\");\r\n            }\r\n        }catch(Exception){\r\n            console.log(\"Exception caught!\");\r\n            let errorMsg = Exception.response.data.errorMessage;\r\n            store.setErrorMessage(errorMsg);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            auth\r\n        }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport default AuthContext;\r\nexport { AuthContextProvider };","import socketio from \"socket.io-client\";\r\nimport { createContext } from 'react'\r\nimport { SOCKET_ENDPOINT } from \"../config\";\r\n\r\nexport const socket = socketio.connect(SOCKET_ENDPOINT);\r\nexport const SocketContext = createContext();\r\n\r\nsocket.on('connect', function() {\r\n    console.log(\"Connected to server\");\r\n  });\r\n  ","export const SOCKET_ENDPOINT = \"https://derit.herokuapp.com\";\r\n","import { React, useContext, useEffect, useCallback } from 'react'\r\nimport { SocketContext } from \"../context/socket\";\r\nimport Painterro from \"painterro\"\r\n\r\nconst Paint = (props) => {\r\n    console.log(SocketContext);\r\n    const socket = useContext(SocketContext);\r\n    \r\n    \r\n    let saveHandler = (image, done) => {\r\n        socket.emit(\"sendPicture\", image.asBlob());\r\n    }\r\n\r\n    const p = Painterro({\r\n        defaultTool: \"brush\",\r\n        hiddenTools: [\"crop\", \"resize\", \"save\", \"open\", \"zoomin\", \"zoomout\", \"select\", \"settings\", \"pixelize\", \"close\"],\r\n        saveHandler: saveHandler\r\n    }).show();\r\n\r\n    const handleGetPicture = useCallback(() => {\r\n        console.log(\"Server wants picture\");\r\n        p.save();\r\n    }, [p]);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"getPicture\", handleGetPicture);\r\n        return () => {socket.off(\"getPicture\");}\r\n    }, [socket, handleGetPicture]);\r\n\r\n    \r\n    \r\n    \r\n\r\n    return <div>\r\n    </div>\r\n}\r\n\r\nexport default Paint","import { createContext, useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport api from '../api'\r\nimport AuthContext from '../auth'\r\n\r\n// THIS IS THE CONTEXT WE'LL USE TO SHARE OUR STORE\r\nexport const GlobalStoreContext = createContext({});\r\n\r\n// THESE ARE ALL THE TYPES OF UPDATES TO OUR GLOBAL\r\n// DATA STORE STATE THAT CAN BE PROCESSED\r\nexport const GlobalStoreActionType = {\r\n    SET_ERROR_MESSAGE: \"SET_ERROR_MESSAGE\",\r\n    SET_SEARCH_QUERY: \"SET_SEARCH_QUERY\",\r\n    CHANGE_MODE: \"CHANGE_MODE\"\r\n}\r\n\r\n// WITH THIS WE'RE MAKING OUR GLOBAL DATA STORE\r\n// AVAILABLE TO THE REST OF THE APPLICATION\r\nfunction GlobalStoreContextProvider(props) {\r\n    // THESE ARE ALL THE THINGS OUR DATA STORE WILL MANAGE\r\n    const [store, setStore] = useState({\r\n        errorMessage:null,\r\n        searchQuery: \"\",\r\n        isComic: true\r\n    });\r\n\r\n    const history = useHistory();\r\n\r\n    // SINCE WE'VE WRAPPED THE STORE IN THE AUTH CONTEXT WE CAN ACCESS THE USER HERE\r\n    const { auth } = useContext(AuthContext);\r\n\r\n    const storeReducer = (action) => {\r\n        const { type, payload } = action;\r\n        switch (type) {\r\n            case GlobalStoreActionType.SET_ERROR_MESSAGE: {\r\n                return setStore({\r\n                    errorMessage: payload\r\n                });\r\n            }\r\n            case GlobalStoreActionType.SET_SEARCH_QUERY: {\r\n                return setStore({\r\n                    ... store,\r\n                    searchQuery: payload\r\n                });\r\n            }\r\n            case GlobalStoreActionType.CHANGE_MODE: {\r\n                return setStore({\r\n                    ... store,\r\n                    isComic: !store.isComic\r\n                });\r\n            }\r\n            default:\r\n                return store;\r\n        }\r\n    }\r\n\r\n    //SET THE ERROR MESSAGE SO WE CAN DISPLAY IT IN THE ALERT MODAL\r\n    store.setErrorMessage = function (errorMsg) {\r\n        storeReducer({\r\n            type: GlobalStoreActionType.SET_ERROR_MESSAGE,\r\n            payload: errorMsg\r\n        });\r\n    }\r\n    \r\n    store.handleSearch = function (query) {\r\n        if (query === \"\") {\r\n            storeReducer({\r\n                type: GlobalStoreActionType.SET_SEARCH_QUERY,\r\n                payload: \"\"\r\n            });\r\n            return;\r\n        }\r\n        console.log(\"Updating search query \" + query);\r\n        storeReducer({\r\n            type: GlobalStoreActionType.SET_SEARCH_QUERY,\r\n            payload: `${query}` // HACK Use template literal to copy the string!!!\r\n        });\r\n\r\n        history.push(\"/search/\");\r\n    }\r\n\r\n    store.handleChangeMode = function () {\r\n        console.log(\"Switching to \" + (store.isComic ? \"story\" : \"comic\"));\r\n        storeReducer({\r\n            type: GlobalStoreActionType.CHANGE_MODE\r\n        });\r\n\r\n        history.push(\"/\"); // TODO - Is this a good idea??\r\n    }\r\n\r\n    return (\r\n        <GlobalStoreContext.Provider value={{\r\n            store\r\n        }}>\r\n            {props.children}\r\n        </GlobalStoreContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport default GlobalStoreContext;\r\nexport { GlobalStoreContextProvider };","import { useEffect } from 'react';\r\nimport { createContext, useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport AuthContext from '../auth'\r\nimport { SocketContext } from \"../context/socket\";\r\nimport { GlobalStoreContext } from '../store'\r\nimport {gameEvents, gameStatus} from \"./constants\"\r\n\r\n\r\n// THIS IS THE CONTEXT WE'LL USE TO SHARE OUR STORE\r\nexport const GlobalGameContext = createContext({});\r\n\r\n// THESE ARE ALL THE TYPES OF UPDATES TO OUR GLOBAL\r\n// DATA STORE STATE THAT CAN BE PROCESSED\r\nexport const GlobalGameActionType = {\r\n    CREATE_GAME: \"CREATE_GAME\",\r\n    START_ROUND: \"START_ROUND\",\r\n    SET_PREVIOUS_PANEL: \"SET_PREVIOUS_PANEL\",\r\n    UPDATE_GAME_STATUS: \"UPDATE_GAME_STATUS\",\r\n    RESET_GAME_INFO: \"RESET_GAME_INFO\",\r\n    PLAYER_LIST_UPDATE: \"PLAYER_LIST_UPDATE\"\r\n\r\n}\r\n\r\n// WITH THIS WE'RE MAKING OUR GLOBAL DATA STORE\r\n// AVAILABLE TO THE REST OF THE APPLICATION\r\nfunction GlobalGameContextProvider(props) {\r\n\r\n\r\n    // THESE ARE ALL THE THINGS OUR DATA STORE WILL MANAGE\r\n    const [game, setGame] = useState({\r\n        gameID: \"fakeID\",\r\n        players: [],\r\n        gameStatus: \"\",\r\n        creator: \"\",\r\n        numRounds: 0,\r\n        timePerRound: 30,\r\n        currentRound: 0,\r\n        tags: [],\r\n        storyNumber: 0,\r\n        previousPanel: \"\" //Its either text, or its the image. \r\n    });\r\n\r\n    //SETUP THE CLIENT SOCKET\r\n    const socket = useContext(SocketContext);\r\n    console.log(\"First socket: \", socket);\r\n    const history = useHistory();\r\n    const { store } = useContext(GlobalStoreContext);\r\n\r\n    // SINCE WE'VE WRAPPED THE STORE IN THE AUTH CONTEXT WE CAN ACCESS THE USER HERE\r\n    const { auth } = useContext(AuthContext);\r\n\r\n    const storeReducer = (action) => {\r\n        const { type, payload } = action;\r\n        switch (type) {\r\n            case GlobalGameActionType.CREATE_GAME: {\r\n                return setGame({\r\n                    ...game,\r\n                    gameID: payload.gameID,\r\n                    numRounds: payload.numRounds,\r\n                    timePerRound: payload.timePerRound, \r\n                    creator: payload.username,\r\n                    tags: payload.tags\r\n                });\r\n            }\r\n            case GlobalGameActionType.LOAD_LOBBY: {\r\n                return setGame({\r\n                    ...game,\r\n                    gameID: payload.gameID,\r\n                    players:payload.players,\r\n                    creator: payload.creator,\r\n                    numRounds: payload.numRounds,\r\n                    timePerRound: payload.timePerRound,\r\n                    tags: payload.tags\r\n                })\r\n            }\r\n            case GlobalGameActionType.START_ROUND: {\r\n                return setGame({\r\n                    ...game,\r\n                    storyNumber:payload.storyNumber,\r\n                    currentRound: payload.currentRound,\r\n                    gameStatus: gameStatus.PLAYING\r\n                });\r\n            }\r\n            case GlobalGameActionType.UPDATE_GAME_STATUS: {\r\n                return setGame({\r\n                    ...game,\r\n                    gameStatus: payload\r\n                });\r\n            }\r\n            case GlobalGameActionType.SET_PREVIOUS_PANEL: {\r\n                return setGame({\r\n                    ...game,\r\n                    previousPanel:payload\r\n                });\r\n            }\r\n            case GlobalGameActionType.PLAYER_LIST_UPDATE: {\r\n                return setGame({\r\n                    ...game,\r\n                    players: payload\r\n                });\r\n            }\r\n            case GlobalGameActionType.RESET_GAME_INFO: {\r\n                //SET THIS TO WHATEVER THE INITIAL STATE IS\r\n                // We do this to not carry over state to other games.\r\n                return setGame({\r\n                    gameID: \"fakeID\",\r\n                    players: [],\r\n                    gameStatus: \"\",\r\n                    creator: \"\",\r\n                    numRounds: 0,\r\n                    timePerRound: 0,\r\n                    currentRound: 0,\r\n                    tags: [],\r\n                    storyNumber: 0,\r\n                    previousPanel: \"\"\r\n                });\r\n            }\r\n            default:\r\n                return game;\r\n        }\r\n    }\r\n\r\n    game.createGame = function (data) {\r\n        // const {gameID, numRounds, timePerRound, email, username} = data;\r\n        storeReducer({\r\n            type: GlobalGameActionType.CREATE_GAME,\r\n            payload: data\r\n        });\r\n        socket.emit(gameEvents.CREATE_GAME, data);\r\n    }\r\n\r\n    game.joinGame = (data) => {\r\n        socket.emit(\"joinGame\", {gameID: data.gameID, email: data.email, username: data.username});\r\n    }\r\n\r\n    game.setPreviousPanel = function (){\r\n        if(game.currentRound > 0){\r\n            if(store.isComic === true){\r\n                socket.emit(\"getImage\", {gameID: game.gameID, storyNumber: game.storyNumber});\r\n            }\r\n            else{\r\n                socket.emit(\"getText\", {gameID: game.gameID, storyNumber: game.storyNumber});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    game.savePanel = function (data){\r\n        const ID = \"\" + game.gameID + game.storyNumber + game.currentRound;\r\n        if(store.isComic === true){\r\n            socket.emit(\"saveImage\", {image: data, imageID: ID});\r\n        }\r\n        else{\r\n            socket.emit(\"saveText\", {text: data, textID: ID});\r\n        }\r\n    }\r\n\r\n    // if the creator left, we need to promote the next person in line. if players left are 0, we just delete the game.\r\n    game.playerLeftLobby = (data) => {\r\n        const { username } = data;\r\n        console.log(username + \" left game\");\r\n\r\n        if (game.players.length === 1) {\r\n            // we would have no one left, just delete the game.\r\n            socket.emit(\"deleteEmptyLobby\", {gameID: game.gameID});\r\n            return;\r\n        }\r\n        socket.emit(\"playerLeftLobby\", {gameID: game.gameID, username: username});\r\n        \r\n    }\r\n\r\n    const playerLeftLobby = (data) => {\r\n        // TODO - add a notification or smth?\r\n        const { gameInfo } = data;\r\n\r\n        if (gameInfo.creator !== game.creator) {\r\n            console.log(gameInfo.creator + \" was promoted to room owner/leader.\");\r\n        }\r\n        \r\n        console.log(gameInfo);\r\n        storeReducer({\r\n            type: GlobalGameActionType.LOAD_LOBBY,\r\n            payload: gameInfo\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const joinSuccess = (data) =>{\r\n        console.log(data);\r\n        const {value, gameID, username} = data;\r\n        //If joinSuccess is a success (bad naming), we switch to the lobby page\r\n        if(value===true){\r\n            console.log(\"Received a joinSuccess! Switching to the game lobby\");\r\n            console.log(data);\r\n            storeReducer({\r\n                type: GlobalGameActionType.LOAD_LOBBY,\r\n                payload: data.gameInfo\r\n            });\r\n\r\n            //Tell the other user's we're joining\r\n            //We cant do game.gameID here because the reducer is too slow.\r\n            socket.emit(\"joinGame\", {gameID: gameID, username:username});\r\n            //Switch to the lobby of the game \r\n            history.push(\"lobby\");\r\n\r\n            //TODO - call updateGameInfo here and pass in the stuff from createGame\r\n\r\n        }\r\n        else{\r\n            console.log(\"Received a false joinSuccess. Staying in createGame.\");\r\n            store.setErrorMessage(\"There was an error joining the game!\");\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const roundEnd = () =>{\r\n        //This will eventually lead to game.savePanel being called\r\n        storeReducer({\r\n            type: GlobalGameActionType.UPDATE_GAME_STATUS,\r\n            payload: gameStatus.ROUND_END\r\n        });\r\n    }\r\n\r\n    const joiningGame = (data) => {\r\n        const { username, gameInfo } = data;\r\n        console.log(\"New player joined:\" + username);\r\n        console.log(game);\r\n        console.log(gameInfo);\r\n\r\n        storeReducer({\r\n            type: GlobalGameActionType.LOAD_LOBBY,\r\n            payload: gameInfo\r\n        });\r\n    }\r\n\r\n    const startRound = (newStoryNumber) =>{\r\n        if(newStoryNumber){\r\n            storeReducer({\r\n                type: GlobalGameActionType.START_ROUND,\r\n                payload: {storyNumber: newStoryNumber, currentRound: game.currentRound + 1}\r\n            });\r\n        }\r\n    }\r\n\r\n    const setPreviousPanel = (data) =>{\r\n        if(data === false){\r\n            console.log(\"There was an error setting the previous panels information!\");\r\n        }\r\n        else{\r\n            storeReducer({\r\n                type: GlobalGameActionType.SET_PREVIOUS_PANEL,\r\n                payload: data\r\n            });\r\n        }\r\n    }\r\n\r\n    const gameOver = (data) =>{\r\n        if(data.gameID !== game.gameID){\r\n            console.log(\"Something went wrong in gameOver!\", data.gameID, game.gameID);\r\n        }\r\n        else{\r\n            socket.emit(\"saveGame\", game.gameID);\r\n            //We can't push to gameResult here as the socket might not have finished actually saving the game \r\n        }\r\n    }\r\n\r\n    const loadGamePage = () =>{\r\n        //Push the player to seeing the published game\r\n        history.push(\"/gameResult/\" + game.gameID);\r\n        //Reset the game state client side\r\n        storeReducer({\r\n            type: GlobalGameActionType.RESET_GAME_INFO\r\n        });\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on(\"joinSuccess\", joinSuccess);\r\n        socket.once(gameEvents.ROUND_END, roundEnd);\r\n        socket.once(gameEvents.START_ROUND, startRound);\r\n        socket.once(\"getImage\", setPreviousPanel);\r\n        socket.once(\"getText\", setPreviousPanel);\r\n        socket.once(gameEvents.GAME_OVER, gameOver);\r\n        socket.once(\"loadGamePage\", loadGamePage);\r\n        socket.on(gameEvents.JOINING_GAME, joiningGame);\r\n        socket.on(\"playerLeftLobby\", playerLeftLobby);\r\n    }, []);\r\n  \r\n      return(\r\n        <GlobalGameContext.Provider value={{\r\n            game\r\n        }}>\r\n            {props.children}\r\n        </GlobalGameContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport default GlobalGameContext;\r\nexport { GlobalGameContextProvider };","import { React, useState } from 'react'\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Slider from '@mui/material/Slider';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport { unstable_getThemeValue } from '@mui/system';\r\nimport AuthContext from '../auth';\r\nimport { useContext } from 'react';\r\nimport { GlobalStoreContext } from '../store'\r\nimport GlobalGameContext from '../game';\r\nconst crypto = require(\"crypto\");\r\n\r\nconst CreateGame = (props) => {\r\n\r\n    const history = useHistory();\r\n    const { auth } = useContext(AuthContext);\r\n    const { store } = useContext(GlobalStoreContext);\r\n    const { game } = useContext(GlobalGameContext);\r\n    //This doesnt work ATM for browser redirection, as getLoggedIn gets called after the component renders, and we aren't logged in :(\r\n    // if(!auth.loggedIn === true){\r\n    //     console.log(\"Redirecting user back to home page as they're not logged in!\");\r\n    //     store.setErrorMessage(\"You must be logged in to create a game!\");\r\n    //     history.push(\"/\");\r\n    // }\r\n\r\n\r\n    const [timePerRound, setTimePerRound] = useState(20);\r\n    const handleTimerChange = (event, newValue) => {\r\n        setTimePerRound(newValue);\r\n        console.log(\"New time per round: \" + newValue);\r\n    };\r\n    \r\n    const [numRounds, setNumRounds] = useState(4);\r\n    const handleNumRoundsChange = (event, newValue) => {\r\n        setNumRounds(newValue);\r\n        console.log(\"New num rounds: \" + newValue);\r\n    };\r\n\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n    let tagOptions = [\"Comedy\", \"Family-Friendly\", \"Drama\", \"Pop Culture\", \"Anime\", \"Sports\", \"Gaming\", \"Tragedy\", \"Educational\"];\r\n\r\n    const handleTagChange = (event) => {\r\n        let id = event.target.id;\r\n        let tagIndex = id.substring(id.indexOf(\"checkbox\") + 8);\r\n        let tag = tagOptions[tagIndex];\r\n\r\n        if (event.target.checked) {\r\n            console.log(\"User enabled \" + tag);\r\n            // User enabled this tag\r\n            if (selectedTags.includes(tag)) {\r\n                // Some fluke, it shouldn't already be in here, just leave it as is.\r\n                return;\r\n            }\r\n\r\n            setSelectedTags((selectedTags) => [...selectedTags, tag]);\r\n        }\r\n        else {\r\n            // User disabled this tag\r\n            console.log(\"User disabled \" + tag);\r\n            let i = selectedTags.indexOf(tag);\r\n            if (i !== -1) {\r\n                //selectedTags.splice(i, 1);\r\n                setSelectedTags((selectedTags) => [\r\n                    ...selectedTags.filter((item, index) => index !== i)\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n\r\n    const [customTags, setCustomTags] = useState(\"\");\r\n    const handleKeyPress = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        setCustomTags(event.target.value);\r\n    }\r\n\r\n    const timeSliderMarks = [\r\n        {\r\n            value: 10,\r\n            label: \"10 Seconds\"\r\n        },\r\n        {\r\n            value: 20,\r\n            label: \"20 Seconds\"\r\n        },\r\n        {\r\n            value: 30,\r\n            label: \"30 Seconds\"\r\n        },\r\n        {\r\n            value: 40,\r\n            label: \"40 Seconds\"\r\n        },\r\n        {\r\n            value: 50,\r\n            label: \"50 Seconds\"\r\n        },\r\n        {\r\n            value: 60,\r\n            label: \"60 Seconds\"\r\n        },\r\n\r\n    ];\r\n\r\n    \r\n    const roundSliderMarks = [\r\n        {\r\n            value: 2,\r\n            label: \"2 rounds\"\r\n        },\r\n        {\r\n            value: 4,\r\n            label: \"4 rounds\"\r\n        },\r\n        {\r\n            value: 6,\r\n            label: \"6 rounds\"\r\n        },\r\n        {\r\n            value: 8,\r\n            label: \"8 rounds\"\r\n        },\r\n        {\r\n            value: 10,\r\n            label: \"10 rounds\"\r\n        },\r\n    ];\r\n\r\n\r\n\r\n    const handleCreateGame = (event) => {\r\n        console.log(\"create game with parameters:\");\r\n        let selectedTags_copy = selectedTags.slice();\r\n\r\n        if (customTags) {\r\n            customTags.split(\",\")\r\n                .map(i => i.trim())\r\n                .forEach((elem, i) => {\r\n                    // prevent dupes\r\n                    if (!selectedTags_copy.includes(elem)) {\r\n                        selectedTags_copy.push(elem);\r\n                    }\r\n            });\r\n        }\r\n\r\n        console.log(timePerRound);\r\n        console.log(numRounds);\r\n        console.log(selectedTags_copy);\r\n\r\n        //Generate an id to create the game with\r\n        const gameID = crypto.randomBytes(3).toString(\"hex\");\r\n\r\n        console.log(gameID);\r\n        game.createGame({gameID:gameID, numRounds:numRounds, timePerRound:timePerRound, tags: selectedTags_copy, email: auth.user.email, username: auth.user.username});\r\n    }\r\n    \r\n    let currentNumTags = selectedTags.length + customTags.split(\",\").filter((v) => v !== \"\").length;\r\n    console.log(\"current num tags \" + currentNumTags);\r\n    let canCreate = (currentNumTags > 5 ? false : true);\r\n\r\n    return (\r\n        <div>\r\n        <Box alignItems=\"center\" sx={{ display: {\r\n            backgroundColor: \"#6A8D92\",\r\n\r\n        } }}>\r\n\r\n            <Typography variant=\"h1\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        align=\"center\">\r\n                Create a Game\r\n            </Typography>\r\n\r\n            <Box alignItems=\"center\" justifyContent=\"center\" sx={{ \r\n                    width: 700,\r\n                    marginLeft: \"30%\"\r\n                    }}>\r\n                \r\n                <Typography variant=\"h4\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{\r\n                            marginTop:10,\r\n                            marginLeft:10,\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            alignItems: 'center'}}>\r\n                    Time Per Round:\r\n                </Typography>\r\n                <Slider\r\n                    aria-label=\"Time Per Round\"\r\n                    defaultValue={20}\r\n                    step = {1}\r\n                    min={10}\r\n                    max={60}\r\n                    valueLabelDisplay=\"auto\"\r\n                    marks={timeSliderMarks}\r\n                    onChangeCommitted={handleTimerChange}\r\n                />\r\n            </Box>\r\n\r\n            <Box alignItems=\"center\" justifyContent=\"center\" sx={{ \r\n                    width: 700,\r\n                    marginLeft: \"30%\"\r\n                    }}>\r\n                \r\n                <Typography variant=\"h4\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{\r\n                            marginTop:10,\r\n                            marginLeft:10,\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            alignItems: 'center'}}>\r\n                    Number of Rounds:\r\n                </Typography>\r\n                <Slider\r\n                    aria-label=\"Number of Rounds\"\r\n                    defaultValue={4}\r\n                    step = {1}\r\n                    min={1}\r\n                    max={10}\r\n                    valueLabelDisplay=\"auto\"\r\n                    marks={roundSliderMarks}\r\n                    onChangeCommitted={handleNumRoundsChange}\r\n                />\r\n            </Box>\r\n            \r\n\r\n            <Box alignItems=\"center\" justifyContent=\"center\" sx={{ \r\n                    width: 700,\r\n                    marginLeft: \"30%\"\r\n                    }}>\r\n                \r\n                <Typography variant=\"h4\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{\r\n                            marginTop:10,\r\n                            marginLeft:10,\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            alignItems: 'center'}}>\r\n                    Tags For This Game (Max 5 tags!)\r\n                </Typography>\r\n\r\n                <FormGroup \r\n                        sx={{\r\n                            marginTop:5,\r\n                            marginLeft:10,\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            alignItems: 'center'\r\n                        }}\r\n                        sc={{bgcolor: \"#6A8D92\"}}>\r\n                    {tagOptions.map((tag, i) => {\r\n                        let disabled = (currentNumTags > 5 ? true : false);\r\n                        if (selectedTags.includes(tag)) {\r\n                            // leave the selected tags as clickable or else we get locked out\r\n                            disabled = false;\r\n                        }\r\n                        return (\r\n\r\n                            <FormControlLabel key={i} labelPlacement=\"bottom\" control={<Checkbox disabled={disabled} id={\"checkbox\" + i} onChange={handleTagChange} style={{color: \"#493548\"}}/>} label={tag} />\r\n                        )\r\n                        \r\n                    })\r\n                    }\r\n                </FormGroup>\r\n\r\n                <Box display=\"flex\" justifyContent=\"center\">\r\n                    <TextField id=\"standard-basic\" label=\"Custom Tags (Comma Separated)\" variant=\"filled\"\r\n                        fullWidth\r\n                        sx={{\r\n                            marginTop:5,\r\n                            marginLeft:10,\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'row',\r\n                            alignItems: 'center',\r\n                        }}\r\n\r\n                        InputLabelProps={{\r\n                            style: { color: '#493548' },\r\n                        }}\r\n\r\n                        style={{\r\n                            borderRadius: \"10px\",\r\n                            borderStyle: \"solid\",\r\n                            borderColor: \"#6A6A6A\"\r\n                        }}\r\n                        onChange={handleKeyPress}\r\n                    \r\n                    />\r\n                </Box>\r\n                \r\n            </Box>\r\n            \r\n            <Box sx={{height:75}} />\r\n\r\n            <Box alignItems=\"center\" justifyContent=\"center\" sx={{ \r\n                    width: 700,\r\n                    marginLeft: \"45%\"\r\n                    }}>\r\n            \r\n\r\n                <Button variant=\"contained\"\r\n                        style={{\r\n                            borderRadius: 35,\r\n                            backgroundColor: \"#4b4e6d\",\r\n                            padding: \"18px 36px\",\r\n                            fontSize: \"18px\",\r\n                        }}\r\n                        onClick={handleCreateGame}\r\n                        disabled={!canCreate}\r\n                        >\r\n                    Create Game\r\n                </Button>\r\n            </Box>\r\n\r\n            <Box sx= {{ height: 200}}/>\r\n\r\n            \r\n        </Box>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateGame;\r\n","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport List from '@mui/material/List';\r\n\r\nconst bull = (\r\n    <Box\r\n      component=\"span\"\r\n      sx={{ display: 'inline-block', mx: '2px', transform: 'scale(0.8)' }}\r\n    >\r\n      \r\n    </Box>\r\n);\r\n\r\nexport default function LobbyCard(props) {\r\n\r\n  const { title, value } = props;\r\n  \r\n  let card;\r\n  if (value instanceof Array) {\r\n    card = (\r\n        <React.Fragment>\r\n          <CardContent  >\r\n            <Typography sx={{textDecoration: 'underline'}} align=\"center\" nowrap color=\"#a1e887\" variant=\"h5\" component=\"div\" gutterBottom>\r\n              {title}\r\n            </Typography>\r\n            <List align=\"center\" nowrap color=\"#a1e887\"  sx={{ minHeight:\"50px\", maxHeight:\"150px\", overflow: \"auto\"}}>\r\n              {value.map((value) => {\r\n                  return (\r\n                    <Typography nowrap color=\"#a1e887\" variant=\"h6\" component=\"div\" gutterBottom>\r\n                        {bull}{value}\r\n                    </Typography>\r\n                  );\r\n              })}\r\n            </List>\r\n          </CardContent>\r\n        </React.Fragment>\r\n      );\r\n  }\r\n  else {\r\n    card = (\r\n        <React.Fragment>\r\n          <CardContent>\r\n            <Typography sx={{textDecoration: 'underline'}} align=\"center\" nowrap color=\"#a1e887\" variant=\"h5\" component=\"div\" gutterBottom>\r\n              {title}\r\n            </Typography>\r\n            <Typography align=\"center\" nowrap color=\"#a1e887\" variant=\"h6\" component=\"div\" gutterBottom>\r\n              {value}\r\n            </Typography>\r\n          </CardContent>\r\n        </React.Fragment>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ minWidth: 275, maxWidth: 275\r\n    }}>\r\n      <Card variant=\"outlined\"\r\n            style={{\r\n                borderRadius: \"20px\",\r\n                borderStyle: \"solid\",\r\n                borderWidth: \"3px\",\r\n                borderColor: \"#80b192\"\r\n            }}\r\n            sx={{display: { backgroundColor: \"#4b4e6d\"}}}>\r\n            {card}\r\n        </Card>\r\n    </Box>\r\n  );\r\n}","import * as React from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport ListItem from '@mui/material/ListItem';\r\n\r\nexport default function PlayerCard(props) {\r\n\r\n    const { username, isCurrentUser } = props;\r\n\r\n    let cardElement =\r\n        <ListItem\r\n            id={\"player\"}\r\n            \r\n            sx={{ marginTop: '10px',bgcolor: \"#4b4e6d\", height:\"65px\", minWidth:\"100px\", maxWidth:\"500px\"}}\r\n            style={{\r\n                fontSize: '24pt',\r\n                width: '500%',\r\n                justifyContent: \"center\",\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                alignItems: 'center',\r\n                borderRadius: \"20px\",\r\n                borderStyle: \"solid\",\r\n                borderWidth: \"3px\",\r\n                borderColor: \"#80b192\"\r\n            }}>\r\n        \r\n                <Typography variant=\"h4\"\r\n                            noWrap\r\n                            component=\"div\"\r\n                            color={isCurrentUser ? \"#A1E887\" : \"#EEEEFF\"}\r\n                            sx={{fontWeight: isCurrentUser ? \"bold\" : \"\", maxWidth: \"200px\"}}\r\n                                >\r\n                    {username}\r\n                </Typography>\r\n\r\n        </ListItem>\r\n\r\n    return (cardElement);\r\n}","import { React } from 'react'\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport List from '@mui/material/List';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport LobbyCard from \"./LobbyCard\";\r\nimport PlayerCard from \"./PlayerCard\";\r\nimport { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport GlobalGameContext from \"../game\";\r\nimport AuthContext from '../auth';\r\n\r\n//Array of objects of gameInfo\r\n// const gameInfo = {\r\n//     gameID: \"\",\r\n//     players: [],\r\n//     gameStatus: gameStatus.STATUS,\r\n//     playerVotes: [[]],\r\n//     creator: \"\",\r\n//     numRounds: data.numRounds,\r\n//     timePerRound: data.timePerRound,\r\n//     currentRound: 0,\r\n//     tags: []\r\n// };\r\n\r\nconst GameLobby = (props) => {\r\n    const history = useHistory();\r\n\r\n\r\n    const { game } = useContext(GlobalGameContext);\r\n    const { auth } = useContext(AuthContext);\r\n\r\n    let playerList = game.players;\r\n    let creator = game.creator;\r\n    let numRounds = game.numRounds;\r\n    let timePerRound = game.timePerRound;\r\n    let tags = game.tags;\r\n    let gameID = game.gameID;\r\n    const currentUser = auth.user.username;\r\n\r\n    const handleLeaveGame = (event) => {\r\n        console.log(auth.user.username + \" left game\");\r\n\r\n        game.playerLeftLobby({username: auth.user.username });\r\n\r\n        history.push('/')\r\n    }\r\n\r\n    const handleStartGame = (event) => {\r\n        console.log(\"User started game\");\r\n        history.push(\"/CGameInProgress/:id\");\r\n    }\r\n\r\n    const isOwner = (currentUser === creator);\r\n\r\n    return (\r\n        <div>\r\n        <Box alignItems=\"center\" sx={{ display: {\r\n            backgroundColor: \"#6A8D92\",\r\n\r\n        } }}>\r\n\r\n            <Typography variant=\"h2\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        align=\"center\">\r\n                    {creator + \"'s Game - \" + gameID}\r\n            </Typography>\r\n\r\n            <Box display=\"flex\" alignItems=\"flex-start\" justifyContent=\"center\" gap=\"10px\">\r\n                <LobbyCard title=\"Number of Rounds:\" value={numRounds + \" Rounds\"}/>\r\n                <LobbyCard title=\"Time Per Round:\" value={timePerRound + \" Seconds\"}/>\r\n                <LobbyCard title=\"Tags:\" value={tags}/>\r\n            </Box>\r\n\r\n            <Typography variant=\"h2\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        align=\"center\"\r\n                        sx={{marginTop:5}}>\r\n                    Player List\r\n                </Typography>\r\n\r\n            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"center\" gap=\"10px\">\r\n                <List sx={{\r\n                            marginTop:2,\r\n                            marginLeft: \"-40%\",\r\n                            justifyContent: \"center\",\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            flexWrap: \"wrap\",\r\n                            height:\"325px\"\r\n                        }}>\r\n                    {playerList.map((player, i) => {\r\n\r\n                        return <PlayerCard key={i} username={player} isCurrentUser={currentUser === player}/>\r\n                    })}\r\n                </List>\r\n            </Box>\r\n\r\n            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"center\" gap=\"65px\" sx={{marginTop:5}}>\r\n                <Button variant=\"contained\"\r\n                        style={{\r\n                            borderRadius: 35,\r\n                            backgroundColor: \"#4b4e6d\",\r\n                            padding: \"18px 36px\",\r\n                            fontSize: \"18px\",\r\n                        }}\r\n                        onClick={handleLeaveGame}\r\n                        >\r\n                    Leave Game\r\n                </Button>\r\n\r\n                <Button variant=\"contained\"\r\n                        style={{\r\n                            borderRadius: 35,\r\n                            backgroundColor: \"#4b4e6d\",\r\n                            padding: \"18px 36px\",\r\n                            fontSize: \"18px\",\r\n                        }}\r\n                        disabled = {isOwner ? false : true}\r\n                        onClick={handleStartGame}\r\n                        >\r\n                    Start Game\r\n                </Button>\r\n            </Box>\r\n\r\n            <Box sx= {{ height: 200}}/>\r\n        </Box>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GameLobby;\r\n","import { Container, Grid, Typography } from '@mui/material';\r\nimport React from 'react'\r\n\r\nconst Tags = ({tag}) => {\r\n  return (\r\n    <Grid item>\r\n        <Container style={{backgroundColor:\"#A1E887\", borderRadius:\"20px\"}}>\r\n            <Typography variant=\"subtitle2\">\r\n                {tag}\r\n            </Typography>\r\n        </Container>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Tags\r\n","import { Button, Container, Grid, Typography, IconButton } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Tags from \"./Tags\"\r\nimport SimpleImageSlider from \"react-simple-image-slider\";\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthContext from '../auth';\r\n\r\nconst PublishedGameCard = ({creator, tags, votes, comments, panels}) => {\r\n   const { auth } = useContext(AuthContext);\r\n   const [numVotes, setNumVotes] = useState(0);\r\n   const [numComments, setNumComments] = useState(0);\r\n   const [commWinner, setCommWinner] = useState(-1);\r\n   const [isOwner, setIsOwner] = useState(false);\r\n   let history = useHistory();\r\n\r\n   useEffect(()=> {\r\n       let count = 0;\r\n       for(let i = 0; i < votes.length; i++)\r\n       {\r\n           count += votes[i].length;\r\n       }\r\n\r\n       setNumVotes(count);\r\n       setNumComments(comments.length);\r\n   }, [comments.length, votes]);\r\n\r\n   useEffect(() => {\r\n    let max = -1;\r\n    let win = -1;\r\n\r\n    for(let i = 0; i < votes.length; i++)\r\n    {\r\n      if(votes[i].length > max){\r\n        max = votes[i].length;\r\n        win = i;\r\n      }\r\n    }\r\n\r\n    setCommWinner(win);\r\n    // console.log(commWinner);\r\n  }, [votes]);\r\n\r\n  useEffect(() => {\r\n      if(auth.user && auth.user.username === creator){\r\n        setIsOwner(true);\r\n      }\r\n  })\r\n\r\n  return (\r\n    <Grid item m={2}>\r\n        <Container style={{width:\"330px\", backgroundColor:\"#80B192\", borderRadius:\"20px\"}}>\r\n            <Grid container>\r\n              <Grid item xs={9}>\r\n                {isOwner ? \r\n                  <IconButton color='error' aria-label=\"delete\" mb={2} pt={1}>\r\n                    <DeleteIcon />\r\n                  </IconButton> : \r\n                  <Typography variant=\"h5\" mb={2} pt={1}>\r\n                  {creator}\r\n                </Typography>\r\n                }\r\n              </Grid>\r\n              <Grid item pt={1}>\r\n                <Button \r\n                style={{backgroundColor:\"#A1E887\", color:\"black\"}}\r\n                onClick={()=>{\r\n                  history.push('/gameResult/:id')\r\n                }}\r\n                >Visit</Button>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {commWinner >= 0 ? <SimpleImageSlider width={280} height={280} showBullets={true} showNavs={true} images={panels[commWinner]} /> : <SimpleImageSlider width={300} height={280} showBullets={true} showNavs={true} images={panels[0]} />}\r\n\r\n            <Typography variant=\"subtitle1\" mb={1}>\r\n                Votes: {numVotes}; Comments: {numComments}\r\n            </Typography>\r\n\r\n            <Grid container spacing={1} pb={2} sx={{overflow:\"auto\"}}>\r\n                {tags.map((tag, i) => (\r\n                    <Tags key={i} tag={tag}/>\r\n                ))}\r\n            </Grid>\r\n        </Container>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default PublishedGameCard\r\n","import { React, useState, useContext, useEffect } from 'react'\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport Link from '@mui/material/Link';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Badge from '@mui/material/Badge';\r\nimport SortIcon from '@mui/icons-material/Sort';\r\n\r\nimport { Grid } from '@mui/material';\r\n\r\n\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Menu from '@mui/material/Menu';\r\n\r\nimport PublishedGameCard from \"./PublishedGameCard\";\r\n\r\nimport { GlobalStoreContext } from '../store'\r\nimport AuthContext from '../auth'\r\nimport api from '../api'\r\n\r\nconst SearchResults = (props) => {\r\n    const { store } = useContext(GlobalStoreContext);\r\n    const { auth } = useContext(AuthContext);\r\n    \r\n    const [results, setResults] = useState([]);\r\n    const [query, setQuery] = useState(\"\");\r\n    const [isUserSearch, setIsUserSearch] = useState(true);\r\n    const [currentSort, setCurrentSort] = useState(null);\r\n\r\n    useEffect(() => {\r\n        \r\n        let query = store.searchQuery;\r\n        if (query.indexOf(\",\") === -1 && query.indexOf(\"u:\") !== -1) {\r\n            // no comma and u: means user search\r\n            setIsUserSearch(true);\r\n        }\r\n        else {\r\n            setIsUserSearch(false);\r\n        }\r\n        setQuery(query);\r\n        search(query);\r\n    }, [store.searchQuery]);\r\n\r\n    const search = async (query) => {\r\n        if (query.indexOf(\",\") === -1) {\r\n            // check if this is a tag or user query since a length 1 query can be either or.\r\n    \r\n            if (query.indexOf(\"u:\") === -1) {\r\n                // tag means game search.\r\n                let res = await api.searchGames(query);\r\n                if (res.data.success) {\r\n                    let results = res.data.data;\r\n                    console.log(res.data)\r\n                    console.log(\"games found\");\r\n                    console.log(results);\r\n                    setResults(results);\r\n                }\r\n                else {\r\n                    setResults([]);\r\n                }\r\n            }\r\n            else {\r\n                // one user search means user search. we need to sanitize and get the username from this.\r\n                let username = query.split(\"u:\")[1];\r\n                let res = await api.getUser(username);\r\n                if (res.data.success) {\r\n                    let results = res.data.user;\r\n                    console.log(\"user found\");\r\n                    console.log(results);\r\n                    let arr = [results];\r\n                    setResults(arr);\r\n                }\r\n                else {\r\n                    setResults([]);\r\n                }\r\n            }\r\n        }\r\n    \r\n        else {\r\n            // multi-part game search\r\n            let res = await api.searchGames(query);\r\n            if (res.data.success) {\r\n                if (res.data.success) {\r\n                    let results = res.data.data;\r\n                    console.log(\"games found\");\r\n                    console.log(results);\r\n                    setResults(results);\r\n                }\r\n                else {\r\n                    setResults(results);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    let currentUser = auth.user;\r\n    \r\n    let isComic = store.isComic;\r\n    \r\n    let filteredResults;\r\n    if (!isUserSearch) {\r\n        filteredResults = results.filter((game) => {\r\n            if (game.isComic === isComic) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        filteredResults = results;\r\n    }\r\n\r\n    const currentSortType = {\r\n        PUB_NEW: \"PUB_NEW\",\r\n        PUB_OLD: \"PUB_OLD\",\r\n        COMMENTS_DESC: \"COMMENTS_DESC\",\r\n        COMMENTS_ASC: \"COMMENTS_ASC\",\r\n        VOTES_DESC: \"VOTES_DESC\",\r\n        VOTES_ASC: \"VOTES_ASC\"\r\n    };\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const isMenuOpen = Boolean(anchorEl);\r\n\r\n    const handleMenuOpen = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMenuClose = (event) => {\r\n        setAnchorEl(null);\r\n        if (event.target.textContent === currentSort) {\r\n            setCurrentSort(null);\r\n            console.log(\"Cancel sort\");\r\n            return;\r\n        }\r\n        console.log(\"Sort By: \" + event.target.textContent);\r\n        console.log(filteredResults);\r\n        switch (event.target.textContent) {\r\n            // Sort accordingly\r\n            case \"Publish Date (Newest)\":\r\n                setCurrentSort(currentSortType.PUB_NEW);\r\n                filteredResults.sort((x, y) => {\r\n                    let x_date = new Date(x.createdAt);\r\n                    let y_date = new Date(y.createdAt);\r\n                    if (x_date < y_date) {\r\n                        return 1;\r\n                    }\r\n                    else if (x_date > y_date) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n\r\n            case \"Publish Date (Oldest)\":\r\n                setCurrentSort(currentSortType.PUB_OLD);\r\n                filteredResults.sort((x, y) => {\r\n                    let x_date = new Date(x.createdAt);\r\n                    let y_date = new Date(y.createdAt);\r\n                    if (x_date < y_date) {\r\n                        return -1;\r\n                    }\r\n                    else if (x_date > y_date) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n\r\n            case \"Number of Comments (Descending)\":\r\n                setCurrentSort(currentSortType.COMMENTS_DESC);\r\n                filteredResults.sort((x, y) => {\r\n                    if (x.comments.length < y.comments.length) {\r\n                        return 1;\r\n                    }\r\n                    else if (x.comments.length > y.comments.length) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n\r\n            case \"Number of Comments (Ascending)\":\r\n                setCurrentSort(currentSortType.COMMENTS_DESC);\r\n                filteredResults.sort((x, y) => {\r\n                    if (x.comments.length < y.comments.length) {\r\n                        return -1;\r\n                    }\r\n                    else if (x.comments.length > y.comments.length) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n\r\n            case \"Number of Votes (Descending)\":\r\n                setCurrentSort(currentSortType.VOTES_DESC);\r\n                filteredResults.sort((x, y) => {\r\n                    let x_votes = 0;\r\n                    let y_votes = 0;\r\n\r\n                    x.communityVotes.forEach((arr) => {x_votes += arr.length});\r\n                    y.communityVotes.forEach((arr) => {y_votes += arr.length});\r\n\r\n                    if (x_votes < y_votes) {\r\n                        return 1;\r\n                    }\r\n                    else if (x_votes > y_votes) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n            case \"Number of Votes (Ascending)\":\r\n                setCurrentSort(currentSortType.VOTES_ASC);\r\n                filteredResults.sort((x, y) => {\r\n                    let x_votes = 0;\r\n                    let y_votes = 0;\r\n\r\n                    x.communityVotes.forEach((arr) => {x_votes += arr.length});\r\n                    y.communityVotes.forEach((arr) => {y_votes += arr.length});\r\n\r\n                    if (x_votes < y_votes) {\r\n                        return -1;\r\n                    }\r\n                    else if (x_votes > y_votes) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                console.log(\"Sort menu closed\");\r\n                break;\r\n        }\r\n        setResults(filteredResults);\r\n        console.log(filteredResults);\r\n    };\r\n\r\n    let pubNewOption = (<MenuItem onClick={handleMenuClose}>Publish Date (Newest)</MenuItem>);\r\n    let pubOldOption = (<MenuItem onClick={handleMenuClose}>Publish Date (Oldest)</MenuItem>);\r\n\r\n    let moreCommentsOption = (<MenuItem onClick={handleMenuClose}>Number of Comments (Descending)</MenuItem>); // descending\r\n    let lessCommentsOption = (<MenuItem onClick={handleMenuClose}>Number of Comments (Ascending)</MenuItem>); // ascending\r\n\r\n    let moreVotesOption = (<MenuItem onClick={handleMenuClose}>Number of Votes (Descending)</MenuItem>); // descending\r\n    let lessVotesOption = (<MenuItem onClick={handleMenuClose}>Number of Votes (Ascending)</MenuItem>); // ascending\r\n\r\n    switch (currentSort) {\r\n        case currentSortType.PUB_NEW:\r\n            pubNewOption = (<MenuItem selected onClick={handleMenuClose}>Publish Date (Newest)</MenuItem>);\r\n            break;\r\n        case currentSortType.PUB_OLD:\r\n            pubOldOption = (<MenuItem selected onClick={handleMenuClose}>Publish Date (Oldest)</MenuItem>);\r\n            break;\r\n        case currentSortType.COMMENTS_DESC:\r\n            moreCommentsOption = (<MenuItem selected onClick={handleMenuClose}>Number of Comments (Descending)</MenuItem>); // descending\r\n            break;\r\n        case currentSortType.COMMENTS_ASC:\r\n            lessCommentsOption = (<MenuItem selected onClick={handleMenuClose}>Number of Comments (Ascending)</MenuItem>); // ascending\r\n            break;\r\n        case currentSortType.VOTES_DESC:\r\n            moreVotesOption = (<MenuItem selected onClick={handleMenuClose}>Number of Votes (Descending)</MenuItem>); // descending\r\n            break;\r\n        case currentSortType.VOTES_ASC:\r\n            lessVotesOption = (<MenuItem selected onClick={handleMenuClose}>Number of Votes (Ascending)</MenuItem>); // ascending\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    \r\n    const menuId = \"sort-menu\";\r\n    const renderMenu = (\r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n            }}\r\n            id={menuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n            }}\r\n            open={isMenuOpen}\r\n            onClose={handleMenuClose}\r\n        >\r\n            {pubNewOption}\r\n            {pubOldOption}\r\n            {moreCommentsOption}\r\n            {lessCommentsOption}\r\n            {moreVotesOption}\r\n            {lessVotesOption}\r\n        </Menu>\r\n    );\r\n    \r\n\r\n\r\n    // we don't need the cards just return the user\r\n    if (isUserSearch) {\r\n        return (\r\n            <div>\r\n                <Box alignItems=\"center\" sx={{ display: {\r\n                    backgroundColor: \"#6A8D92\",\r\n        \r\n                } }}>\r\n        \r\n                    <Typography variant=\"h2\"\r\n                                noWrap\r\n                                component=\"div\"\r\n                                align=\"center\">\r\n                            {\"Search Results For: \" + query}\r\n                    </Typography>\r\n\r\n                    <List sx={{\r\n                                marginTop:2,\r\n                                marginLeft: 85,\r\n                                justifyContent: \"center\",\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                alignItems: 'center',\r\n                                overflow: \"auto\",\r\n                                maxHeight:\"750px\",\r\n                                width: \"600px\"\r\n                            }}>\r\n                        {filteredResults.map((user, i) => {\r\n                            return (\r\n                                <ListItem\r\n                                    key={i}\r\n                                    sx={{ marginTop: '5px',bgcolor: \"#4b4e6d\", height:\"65px\", minWidth:\"100px\", maxWidth:\"500px\"}}\r\n                                    style={{\r\n                                        fontSize: '24pt',\r\n                                        width: '500%',\r\n                                        justifyContent: \"center\",\r\n                                        display: 'flex',\r\n                                        flexDirection: 'column',\r\n                                        alignItems: 'center',\r\n                                        borderRadius: \"20px\",\r\n                                        borderStyle: \"solid\",\r\n                                        borderWidth: \"3px\",\r\n                                        borderColor: \"#80b192\"\r\n                                    }}>\r\n                                        <Link underline=\"none\" href={\"/profile/\" + user.username}>\r\n                                            <Typography variant=\"h4\"\r\n                                                        noWrap\r\n                                                        component=\"div\"\r\n                                                        color={ \"#A1E887\"}>\r\n                                                {user.username}\r\n                                            </Typography>\r\n                                        </Link>\r\n                                </ListItem>\r\n                            );                    \r\n                        })}\r\n                    </List>\r\n                    \r\n                    <Box sx= {{ height: 700}}/>\r\n                </Box>\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <Box className=\"back\" pb={4}>\r\n                <Typography align=\"center\" variant=\"h2\">{\"Search Results For: \" + query}</Typography>\r\n                <Box display=\"flex\" alignItems=\"flex-start\" justifyContent=\"center\">\r\n                    <Typography\r\n                        align=\"center\"\r\n                        variant=\"h5\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{ display: { xs: 'none', sm: 'block' }}}\r\n                        color=\"black\"\r\n                        marginTop=\"6px\"\r\n                    >\r\n                        Sort By:\r\n                    </Typography>\r\n\r\n                    <IconButton\r\n                    align=\"center\"\r\n                    size=\"large\"\r\n                    edge=\"end\"\r\n                    aria-label=\"Sort Menu\"\r\n                    aria-controls={menuId}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleMenuOpen}\r\n                    color=\"default\"\r\n                    >\r\n                        <Badge>\r\n                            <SortIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                    {renderMenu}\r\n                </Box>\r\n                <Grid \r\n                    container \r\n                    direction='row'\r\n                >\r\n                    <Grid item xs={10}>\r\n    \r\n                        {\r\n                            <Grid container>\r\n                                {filteredResults.map(({creator, tags, communityVotes, comments, panels}, i) => (\r\n                                    <PublishedGameCard key={i} creator={creator} tags={tags} votes={communityVotes} comments={comments} panels={panels}/>\r\n                                ))}\r\n                            </Grid>\r\n                        }\r\n                    </Grid>\r\n                </Grid>\r\n                \r\n            </Box>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default SearchResults;\r\n","import { Container, Grid, Typography } from '@mui/material';\r\nimport Tags from \"./Tags\"\r\nimport React from 'react'\r\n\r\nconst LiveGameCard = ({creator, gameID, numRounds, timePerRound, tags}) => {\r\n  return (\r\n    <Grid item m={2}>\r\n        <Container style={{width:\"330px\", backgroundColor:\"#80B192\", borderRadius:\"20px\"}}>\r\n            <Typography variant=\"h5\" mb={2} pt={1}>\r\n                {creator}\r\n            </Typography>\r\n\r\n            <Typography variant=\"h1\" mb={1}>\r\n                {gameID}\r\n            </Typography>\r\n\r\n            <Typography variant=\"subtitle1\" mb={1}>\r\n                Rounds: {numRounds}; Time per round: {timePerRound}\r\n            </Typography>\r\n\r\n            <Grid container spacing={1} pb={2} sx={{overflow:\"auto\"}}>\r\n                {tags.map((tag) => (\r\n                    <Tags tag={tag}/>\r\n                ))}\r\n            </Grid>\r\n        </Container>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default LiveGameCard\r\n","import React from 'react';\r\nimport { GlobalStoreContext } from '../store'\r\nimport AuthContext from '../auth'\r\nimport { useState } from 'react'\r\nimport { Typography } from '@mui/material'\r\nimport { Box } from '@mui/system';\r\nimport { TextField } from '@mui/material';\r\nimport { ToggleButton } from '@mui/material';\r\nimport { ToggleButtonGroup } from '@mui/material';\r\nimport { Grid } from '@mui/material';\r\nimport Tags from \"./Tags\"\r\nimport LiveGameCard from './LiveGameCard';\r\nimport PublishedGameCard from './PublishedGameCard';\r\nimport Button from '@mui/material/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useContext, useEffect } from 'react';\r\nimport { SocketContext } from \"../context/socket\";\r\nimport GlobalGameContext from \"../game\";\r\n\r\n// toggles between live and completed games\r\nconst GameToggle = ({alignment, setAlignment}) => {\r\n        const handleChange = (event, newAlignment) => {\r\n            if(newAlignment !== null) {\r\n                setAlignment(newAlignment);\r\n            }\r\n        };\r\n        return (\r\n        <ToggleButtonGroup \r\n            exclusive \r\n            onChange={handleChange}\r\n            value={alignment}\r\n            fullWidth\r\n            sx = {{\r\n                px: 2,\r\n                mb: 2, \r\n            }}\r\n        >\r\n            <ToggleButton color=\"secondary\" value=\"completed\">\r\n                <Typography><strong>Completed</strong></Typography>\r\n            </ToggleButton>\r\n            <ToggleButton color=\"secondary\" value=\"live\">\r\n                <Typography><strong>Live</strong></Typography>\r\n            </ToggleButton>\r\n        </ToggleButtonGroup>\r\n        );\r\n};\r\n\r\n\r\n\r\nconst HomeScreen = () => {\r\n    const [alignment, setAlignment] = useState('completed');\r\n\r\n    let history = useHistory();\r\n\r\n    const handleClick = (pageURL) => {\r\n        console.log(pageURL);\r\n        history.push(pageURL);\r\n    };\r\n\r\n    const { auth } = useContext(AuthContext);\r\n    const socket = useContext(SocketContext);\r\n    const { game } = useContext(GlobalGameContext);\r\n    //const { store } = useContext(GlobalStoreContext);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     store.loadIdNamePairs();\r\n    // }, []);\r\n\r\n    // obtain a list of cards based on what is being asked\r\n    // Story/Comic\r\n    // Completed/Joinable\r\n\r\n    useEffect(() => {\r\n        if (socket && auth.loggedIn && auth.user) {\r\n            \r\n            socket.emit(\"storeClientInfo\", {email: auth.user.email});\r\n        }\r\n    }, [auth.loggedIn]);\r\n\r\n    const handleKeyPress = (event) => {\r\n        if (event.code === \"Enter\") {\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            // Pass off to the search handler.\r\n            let gameID = event.target.value;\r\n            console.log(\"Attempting to join game with ID \" + gameID);\r\n            game.joinGame({gameID: gameID, username: auth.user.username});\r\n        }\r\n    }\r\n\r\n\r\n    //Example data\r\n    const liveGames = [\r\n        {\r\n            players:[\"tim\", \"gabe\", \"david\", \"vicky\"],\r\n            creator:\"tim\",\r\n            gameID : \"IYBH\",\r\n            numRounds : 5,\r\n            timePerRound : 30,\r\n            tags : [\"Anime\", \"Superpower\", \"Stickman\", \"Basic\"]\r\n        },\r\n        {\r\n            players:[\"tim\", \"gabe\", \"david\", \"vicky\"],\r\n            creator:\"gabe\",\r\n            gameID : \"JYGS\",\r\n            numRounds : 2,\r\n            timePerRound : 10,\r\n            tags : [\"notCool\"]\r\n        },\r\n        {\r\n            players:[\"jan\", \"tim\", \"gabe\", \"david\", \"vicky\"],\r\n            creator:\"jan\",\r\n            gameID : \"YGFV\",\r\n            numRounds : 4,\r\n            timePerRound : 27,\r\n            tags : [\"b\"]\r\n        },\r\n        {\r\n            players:[\"jack\", \"tim\", \"gabe\", \"david\", \"vicky\"],\r\n            creator:\"jack\",\r\n            gameID : \"KUGH\",\r\n            numRounds : 8,\r\n            timePerRound : 35,\r\n            tags : []\r\n        },\r\n    ];\r\n\r\n    const publishedGames = [\r\n        {\r\n            creator:\"vicky\",\r\n            gameID : \"JYGS\",\r\n            panels: [\r\n                [\"/images/1.png\", \"/images/2.png\", \"/images/3.png\", \"/images/4.png\"],\r\n                [\"/images/1.png\", \"/images/1.png\", \"/images/1.png\", \"/images/1.png\"]\r\n            ],\r\n            communityVotes: [\r\n                [\"npc1\", \"npc2\"],\r\n                []\r\n            ],\r\n            comments: [\r\n                {\r\n                  user:\"user1\",\r\n                  message:\"WOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH I can't believe what i'm seeing this reminds me of this one scene from another series. This made me want to go back and reread that series again.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user2\",\r\n                  message:\"Wow, this was the best thing I've ever seen in my life. I will never be the same. 10 out of 10, would recommend.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user3\",\r\n                  message:\"This was my favorite part! I've looked at this for over  5 hours and can't get it out my head!\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user4\",\r\n                  message:\"I hope one day I can see something as beautiful as this again. I can't believe something as amazing as this exists!\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user5\",\r\n                  message:\"I hope the user above me has a good day\",\r\n                  postDate:new Date()\r\n                },\r\n            ],\r\n            tags : [\"Unbelievable\", \"Pokemon\", \"Digimon\", \"War\"]\r\n        },\r\n        {\r\n            creator:\"david\",\r\n            gameID : \"KUGB\",\r\n            panels: [\r\n                [\"/images/mark_oukan_crown7_blue.png\", \"/images/4.png\", \"/images/4.png\", \"/images/4.png\"],\r\n                [\"/images/1.png\", \"/images/1.png\", \"/images/1.png\", \"/images/1.png\"]\r\n            ],\r\n            communityVotes: [\r\n                [],\r\n                []\r\n            ],\r\n            comments: [\r\n                {\r\n                  user:\"user1\",\r\n                  message:\"WOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH I can't believe what i'm seeing this reminds me of this one scene from another series. This made me want to go back and reread that series again.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user2\",\r\n                  message:\"Wow, this was the best thing I've ever seen in my life. I will never be the same. 10 out of 10, would recommend.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user3\",\r\n                  message:\"This was my favorite part! I've looked at this for over  5 hours and can't get it out my head!\",\r\n                  postDate:new Date()\r\n                }\r\n            ],\r\n            tags : [\"NewPlayer\", \"Crown\"]\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <>\r\n        <Box className=\"back\" pb={4}>\r\n            <Typography align=\"center\" variant=\"h1\">Games</Typography>\r\n            <Grid \r\n                container \r\n                direction='row'\r\n            >\r\n                <Grid item xs={10}>\r\n                    {alignment === \"live\" ? \r\n                        <Grid container>\r\n                            {liveGames.map(({creator, gameID, numRounds, timePerRound, tags}, i) => (\r\n                                <LiveGameCard key={i} creator={creator} gameID={gameID} numRounds={numRounds} timePerRound={timePerRound} tags={tags}/>\r\n                            ))}\r\n                        </Grid> : ''\r\n                    }\r\n\r\n                    {alignment === \"completed\" ? \r\n                        <Grid container>\r\n                            {publishedGames.map(({creator, tags, communityVotes, comments, panels}, i) => (\r\n                                <PublishedGameCard key={i} creator={creator} tags={tags} votes={communityVotes} comments={comments} panels={panels}/>\r\n                            ))}\r\n                        </Grid> : ''\r\n                    }\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={2}>\r\n                    <Grid container justifyContent=\"right\" pr={2}>\r\n                        <Box>\r\n                            <Typography align=\"center\" variant=\"h4\" sx={{mt: 3, mb: 2, width:'100%'}}>Filter Games</Typography>\r\n                            <GameToggle alignment={alignment} setAlignment={setAlignment} />\r\n                            <Typography align=\"center\" variant=\"h4\" sx={{mt: 3, width:'100%'}}>Join Game</Typography>\r\n                            <TextField disabled={!auth.loggedIn} onKeyPress={handleKeyPress} name=\"game-code\" label=\"Game Code\" id=\"game-code\" sx={{mt: 3, mb: 2, width:'100%'}} />\r\n                            <Button variant=\"contained\" disabled={!auth.loggedIn} sx={{mt: 3, mb: 2, width:'100%', backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}} onClick={() => handleClick('/create')}>\r\n                                Create Game\r\n                            </Button>\r\n                        </Box>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default HomeScreen;","import Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport { ThemeProvider } from '@mui/private-theming';\r\nimport AuthContext from '../auth';\r\nimport api from '../api'\r\nimport { useContext } from 'react';\r\nimport { GlobalStoreContext } from '../store'\r\n\r\n\r\nconst AccountScreen = () => {\r\n    const { auth } = useContext(AuthContext);\r\n    const { store } = useContext(GlobalStoreContext);\r\n    const leftTheme = createTheme({\r\n        palette: {\r\n            primary: {\r\n              main: '#9FB4C7',\r\n            },\r\n            secondary: {\r\n              main: '#6A8D92',\r\n            }\r\n        },\r\n      });\r\n      const rightTheme = createTheme({\r\n        palette: {\r\n            primary: {\r\n              main: '#6A8D92',\r\n            },\r\n            secondary: {\r\n              main: '#9FB4C7',\r\n            }\r\n        },\r\n      });\r\n\r\n    const changePassword = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        if(!formData.get('password') || !formData.get('newPassword') || !formData.get('newPasswordVerify')){\r\n            store.setErrorMessage(\"Please enter the required fields\");\r\n            return;\r\n        }\r\n        try{\r\n            await api.changePassword({\r\n                email : auth.user.email,\r\n                password : formData.get('password'),\r\n                newPassword : formData.get('newPassword'),\r\n                newPasswordVerify : formData.get('newPasswordVerify')\r\n            }).then(() => {\r\n                auth.getLoggedIn();\r\n            });\r\n        }\r\n        catch(Exception){\r\n            store.setErrorMessage(\"Incorrect information!\");\r\n        }\r\n    } \r\n\r\n    const changeUser = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        if(!formData.get('username') || !formData.get('password')){\r\n            store.setErrorMessage(\"Please enter the required fields\");\r\n            return;\r\n        }\r\n        try{\r\n            await api.updateUser({\r\n                email : auth.user.email,\r\n                username : formData.get('username'),\r\n                password : formData.get('password')\r\n            }).then(() => {\r\n                auth.getLoggedIn();\r\n            });\r\n        }\r\n        catch(Exception){\r\n            store.setErrorMessage(\"Incorrect information!\");\r\n        }\r\n    }\r\n\r\n    const deleteUser = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        if(!formData.get('email') || !formData.get('password')){\r\n            store.setErrorMessage(\"Please enter the required fields\");\r\n            return;\r\n        }\r\n        try{\r\n            await api.removeUser({\r\n                email : formData.get('email'),\r\n                password : formData.get('password')\r\n            }).then(() => {\r\n                auth.logoutUser();\r\n            });\r\n        }catch(Exception){\r\n            store.setErrorMessage(\"Incorrect information!\");\r\n        }\r\n    }\r\n      \r\n    return (\r\n        <div className='back'>\r\n                <Container component=\"main\" maxWidth=\"lg\" maxHeight=\"lg\">\r\n                <CssBaseline />\r\n                <Box pb={5}\r\n                sx={{\r\n                    marginTop: 10,\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    alignItems: 'center',\r\n                }}\r\n                >\r\n                    <ThemeProvider theme={leftTheme}>\r\n                    <Box sx={{bgcolor:\"secondary.main\", border:2, borderColor:\"black\", width:'75%'}}>\r\n                        {/* Change Username*/}\r\n                        <Box component=\"form\" noValidate onSubmit={changeUser}>\r\n                            <Box sx={{pt:10}}>\r\n                                <Typography align=\"center\" variant=\"h4\"> Change Username?</Typography>\r\n                            </Box>\r\n                            <TextField margin=\"normal\" required fullWidth id=\"username\" label=\"New Username\" name=\"username\" autoComplete=\"username\" autoFocus/>\r\n                            <TextField margin=\"normal\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\"/>\r\n                            <Typography align=\"center\">\r\n                                    <Button  type=\"submit\" variant=\"contained\" sx={{mt: 3, mb: 2, width:'50%', backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}>\r\n                                        Change Username\r\n                                    </Button>\r\n                            </Typography>\r\n                        </Box>\r\n                        {/* Change Password */}\r\n                        <Box component=\"form\" noValidate onSubmit={changePassword}>\r\n                            <Box sx={{pt:10}}>\r\n                                <Typography align=\"center\" variant=\"h4\"> Change Password?</Typography>\r\n                            </Box>\r\n                            <TextField margin=\"normal\" required fullWidth name=\"newPassword\" label=\"New Password\" type=\"password\" id=\"newPassword\" autoComplete=\"new-password\"/>\r\n                            <TextField margin=\"normal\" required fullWidth name=\"newPasswordVerify\" label=\"New Password\" type=\"password\" id=\"newPasswordVerify\" autoComplete=\"new-password\"/>\r\n                            <TextField margin=\"normal\" required fullWidth name=\"password\" label=\"Current Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\"/>\r\n                            <Typography align=\"center\">\r\n                                    <Button  type=\"submit\" variant=\"contained\" sx={{mt: 3, mb: 2, width:'50%', backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}>\r\n                                        Change Password\r\n                                    </Button>\r\n                                </Typography>\r\n                        </Box>\r\n                    </Box>\r\n                    </ThemeProvider>\r\n                    <ThemeProvider theme={rightTheme}>\r\n                    {/* Delete Account*/}\r\n                    <Box component=\"form\" noValidate sx={{bgcolor:\"secondary.main\", border:2, borderColor:\"black\", height: '100%'}} onSubmit={deleteUser}>\r\n                        <Box sx={{pt:10, pb:22}}>\r\n                            <Typography align=\"center\" variant=\"h4\"> Delete Account?</Typography>\r\n                        </Box>\r\n                        <Typography align=\"center\" variant=\"h6\"> {\"This action is permanent and CANNOT be undone.\"}</Typography>\r\n                        <Box  sx={{pt:24.8}}>\r\n                            <TextField margin=\"normal\" required fullWidth id=\"email\" label=\"Email\" name=\"email\" autoComplete=\"email\" autoFocus/>\r\n                            <TextField margin=\"normal\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\"/>\r\n                            <Typography align=\"center\">\r\n                                <Button  type=\"submit\" variant=\"contained\" color=\"error\" sx={{ mt: 3, mb: 2, width:'50%', fontWeight:\"bold\"}}>\r\n                                    Delete Account\r\n                                </Button>\r\n                            </Typography>\r\n                        </Box>\r\n                        \r\n\r\n\r\n                        <Grid container>\r\n                        <Grid item xs>\r\n                        </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                    </ThemeProvider>\r\n                </Box>\r\n            </Container>\r\n  </div>\r\n\r\n        )\r\n}\r\n\r\nexport default AccountScreen;","import { React, useContext, useEffect, useState } from 'react'\r\nimport Painterro from \"painterro\"\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport { ThemeProvider } from '@mui/private-theming';\r\nimport GlobalGameContext from '../game';\r\nimport {gameEvents, gameStatus, gameFailure} from \"../game/constants\"\r\n\r\nconst ComicGameInProgressScreen = (props) => {\r\n    \r\n    const { game } = useContext(GlobalGameContext);\r\n    const [timePerRound, setTimePerRound] = useState(game.timePerRound);\r\n\r\n    const decreaseTimer = () =>{\r\n        if(timePerRound > 0){\r\n            setTimeout(() => {\r\n                setTimePerRound(timePerRound-1);\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    \r\n    let saveHandler = (image, done) => {\r\n        game.savePanel(image.asDataURL());\r\n    }\r\n\r\n    if(game.gameStatus === gameStatus.ROUND_END){\r\n        //Tell painteroo to save\r\n        window.ptro.save();\r\n        setTimeout(() => {\r\n            game.setPreviousPanel();\r\n        }, 500);\r\n    }\r\n\r\n    useEffect(() => {\r\n        decreaseTimer();\r\n    });\r\n\r\n    useEffect(() => {\r\n        window.ptro = Painterro({\r\n        id: 'painterro',\r\n        defaultTool: \"brush\",\r\n        hiddenTools: [\"crop\", \"resize\", \"save\", \"open\", \"zoomin\", \"zoomout\", \"select\", \"settings\", \"pixelize\", \"close\"],\r\n        saveHandler: saveHandler\r\n        }).show();\r\n    }, []);\r\n\r\n\r\n    const theme = createTheme({\r\n        palette: {\r\n            primary: {\r\n              main: '#6A8D92',\r\n            },\r\n            secondary: {\r\n              main: '#9FB4C7',\r\n            }\r\n        },\r\n      });\r\n    return (\r\n        <div>\r\n            <ThemeProvider theme={theme}>\r\n                <Container component=\"main\" maxWidth=\"false\" maxHeight=\"lg\">\r\n                <CssBaseline />\r\n                <Box\r\n                sx={{\r\n                    marginTop:15,\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    alignItems: 'center',\r\n                }}\r\n                >\r\n                    <Box>\r\n                        <Typography mb={2} align=\"center\" variant=\"h4\"> Time left: {timePerRound}S </Typography>\r\n                        <Typography align=\"center\" variant=\"h4\"> Previous Panel </Typography>\r\n                        <Box noValidate sx={{ border:2, borderColor:\"black\", height:\"60vh\", width:\"40vw\", backgroundColor:\"white\"}}>\r\n                            {game.previousPanel === \"\" || game.previousPanel === gameFailure.BLANK_IMAGE_ID ?\r\n                            <div></div>\r\n                            :\r\n                            <img width='100%' height='100%' src={game.previousPanel}></img> \r\n                            }\r\n                        </Box>\r\n                    </Box>\r\n                    <Box>\r\n                        <Typography mb={2} align=\"center\" variant=\"h4\"> Round {game.currentRound + 1}/{game.numRounds + 1} </Typography>\r\n                        <Typography align=\"center\" variant=\"h4\"> Current Panel </Typography>\r\n                        <Box id=\"painterro\" class=\"pa\" noValidate sx={{bgcolor:\"secondary.main\", border:2, borderColor:\"black\"}}>\r\n                        </Box>\r\n                    </Box>\r\n                </Box>\r\n            </Container>\r\n    </ThemeProvider>\r\n  </div>\r\n      );\r\n}\r\n\r\nexport default ComicGameInProgressScreen","import { React} from 'react'\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport { ThemeProvider } from '@mui/private-theming';\r\nimport TextareaAutosize from '@mui/base/TextareaAutosize';\r\n\r\nconst StoryGameInProgressScreen = (props) => {\r\n    // const socket = useContext(SocketContext);\r\n    // let saveHandler = (text, done) => {\r\n    //     socket.emit(\"saveText\", text);\r\n    // }\r\n\r\n    const theme = createTheme({\r\n        palette: {\r\n            primary: {\r\n              main: '#6A8D92',\r\n            },\r\n            secondary: {\r\n              main: '#9FB4C7',\r\n            }\r\n        },\r\n      });\r\n    return (\r\n        <div>\r\n            <ThemeProvider theme={theme}>\r\n                <Container component=\"main\" maxWidth=\"false\" maxHeight=\"lg\">\r\n                <CssBaseline />\r\n                <Box\r\n                sx={{\r\n                    marginTop:15,\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    alignItems: 'center',\r\n                }}\r\n                >\r\n                    <Box>\r\n                        <Typography mb={2} align=\"center\" variant=\"h4\"> Time left: 30S </Typography>\r\n                        <Typography align=\"center\" variant=\"h4\"> Previous Panel </Typography>\r\n                        <Box noValidate sx={{ border:2, borderColor:\"black\", height:\"60vh\", width:\"40vw\"}}>\r\n                            {\"Sometimes when I get lonely, I think to myself. Why are we really here? Is it to satisfy ourselves? Our greeds? Our desires? Or is it \\\r\n                            to justify something else, something bigger, something beyond you or me? Perhaps we exist to satisfy the will of our ancestors. But what \\\r\n                            gave them the right to choose my existence?\"}\r\n                        </Box>\r\n                    </Box>\r\n                    <Box>\r\n                        <Typography mb={2} align=\"center\" variant=\"h4\"> Round 1/n </Typography>\r\n                        <Typography align=\"center\" variant=\"h4\"> Current Panel </Typography>\r\n                        <Box id=\"painterro\" class=\"pa\" noValidate sx={{bgcolor:\"secondary.main\", border:2, borderColor:\"black\"}}>\r\n                        {/* <TextField placeholder=\"MultiLine with rows: 2 and rowsMax: 4\" multiline style={{height:'100%', width:'100%'}}/> */}\r\n                            {/* <input type=\"text\" style={{height:'100%', width:'100%'}}/> */}\r\n                            <TextareaAutosize\r\n                            rows={40}\r\n                            maxRows={40}\r\n                            aria-label=\"maximum height\"\r\n                            style={{ width:'100%', height:'100%' }}\r\n                            />\r\n                        </Box>\r\n                    </Box>\r\n                </Box>\r\n            </Container>\r\n    </ThemeProvider>\r\n  </div>\r\n      );\r\n}\r\n\r\nexport default StoryGameInProgressScreen","import React from 'react';\r\nimport { useContext, useState, useEffect } from 'react'\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport Settings from '@mui/icons-material/Settings';\r\nimport Logout from '@mui/icons-material/Logout';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport LoginIcon from '@mui/icons-material/Login';\r\n\r\nimport ColorLensIcon from '@mui/icons-material/ColorLens';\r\nimport AutoStoriesIcon from '@mui/icons-material/AutoStories';\r\n\r\nimport { styled, alpha} from '@mui/material/styles';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { \r\n    AppBar, Box, Toolbar, IconButton, Typography, \r\n    InputBase, MenuItem, Menu, Tooltip, Avatar, \r\n    Button,ToggleButton, ToggleButtonGroup, ListItemIcon,\r\n} from '@mui/material';\r\n\r\n\r\nimport { GlobalStoreContext } from '../store'\r\nimport AuthContext from '../auth'\r\n\r\n    // Button that has logo and routes to the homepage\r\n    const HomeButton = () => {\r\n        let history = useHistory();\r\n        return (\r\n        <Button \r\n            variant=\"contained\" \r\n            color=\"secondary\" \r\n            onClick={(event) => {\r\n                console.log(event);\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                history.push('/')\r\n                }\r\n            }\r\n            startIcon={<HomeIcon />}\r\n            size=\"large\"\r\n        >\r\n            <Typography>DERIT</Typography>\r\n        </Button>\r\n        );\r\n    };\r\n\r\n    const LoginButton = () => {\r\n        let history = useHistory();\r\n        return(\r\n        <>\r\n        <Button \r\n            variant=\"contained\" \r\n            color=\"secondary\" \r\n            onClick={() => history.push('/login')}\r\n            startIcon={<LoginIcon />}\r\n            size=\"large\"\r\n        >\r\n        Login\r\n        </Button>\r\n        </>\r\n        )\r\n    }\r\n\r\n    // Switch between comic/story site\r\n    const SiteToggle = () => {\r\n        const [alignment, setAlignment] = React.useState('comic');\r\n        const { store }  = useContext(GlobalStoreContext);\r\n\r\n        const handleChange = (event, newAlignment) => {\r\n            if(newAlignment !== null) {\r\n                setAlignment(newAlignment);\r\n                store.handleChangeMode();\r\n            }\r\n        };\r\n        return (\r\n        <ToggleButtonGroup \r\n            exclusive \r\n            onChange={handleChange}\r\n            value={alignment}\r\n            sx = {{\r\n                px: 2\r\n            }}\r\n        >\r\n            <ToggleButton color=\"secondary\" value=\"comic\">\r\n                <ColorLensIcon />\r\n                <Typography><strong>Comic</strong></Typography>\r\n            </ToggleButton>\r\n            <ToggleButton color=\"secondary\" value=\"story\">\r\n                <AutoStoriesIcon />\r\n                <Typography><strong>Story</strong></Typography>\r\n            </ToggleButton>\r\n        </ToggleButtonGroup>\r\n        );\r\n    };\r\n\r\n    \r\n      \r\n    const SearchBar = () => {\r\n\r\n        const { store } = useContext(GlobalStoreContext);\r\n\r\n        const handleKeyPress = (event) => {\r\n            if (event.code === \"Enter\") {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                // Pass off to the search handler.\r\n                store.handleSearch(event.target.value);\r\n\r\n            }\r\n        }\r\n        // search components from mui documentation\r\n        const Search = styled('div')(({ theme }) => ({\r\n            position: 'relative',\r\n            borderRadius: theme.shape.borderRadius,\r\n            backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n                '&:hover': {\r\n                    backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n                },\r\n            marginRight: theme.spacing(2),\r\n            marginLeft: 0,\r\n            width: '100%',\r\n            [theme.breakpoints.up('sm')]: {\r\n                marginLeft: theme.spacing(3),\r\n                width: 'auto',\r\n            },\r\n        }));\r\n\r\n        const SearchIconWrapper = styled('div')(({ theme }) => ({\r\n            padding: theme.spacing(0, 2),\r\n            height: '100%',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: 'background.main'\r\n        }));\r\n\r\n        const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n            color: 'secondary', '& .MuiInputBase-input': {\r\n                padding: theme.spacing(1, 1, 1, 0),\r\n                // vertical padding + font size from searchIcon\r\n                paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n                transition: theme.transitions.create('width'),\r\n                width: '100%',\r\n                [theme.breakpoints.up('md')]: {\r\n                    width: '20ch',\r\n                },\r\n            },\r\n        }));\r\n\r\n        return (\r\n            <Search>\r\n              <SearchIconWrapper>\r\n                <SearchIcon style={{color: \"#EEEFF\"}}/>\r\n              </SearchIconWrapper>\r\n              <StyledInputBase\r\n                placeholder=\"Search DERIT\"\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                onKeyPress={handleKeyPress}\r\n              />\r\n            </Search>\r\n        );\r\n    };\r\n\r\n    // Contains menu dropdown and routes for\r\n    // View Profile, Account Settings, Logout\r\n    const AccountDropdown = ({loggedIn, setLoggedIn}) => {\r\n        let history = useHistory();\r\n        const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n        const { auth } = useContext(AuthContext);\r\n        const { store } = useContext(GlobalStoreContext);\r\n\r\n        const handleOpenUserMenu = (event) => {\r\n            setAnchorElUser(event.currentTarget);\r\n        };\r\n\r\n        // closes the menu or routes to a new page\r\n        const handleMenuClick = (pageURL) => {\r\n            // closes the menu\r\n            setAnchorElUser(null);\r\n            // routes to a new page\r\n            console.log(pageURL);\r\n            history.push(pageURL);\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <Tooltip title=\"Account Settings\">\r\n                    <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n                        <Avatar alt=\"Gorilla Mckilla\" fontSize=\"small\"/>\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Menu\r\n                sx={{ mt: '45px' }}\r\n                id=\"user-menu\"\r\n                anchorEl={anchorElUser}\r\n                open={Boolean(anchorElUser)}\r\n                onClose={() => setAnchorElUser(null)}\r\n                getContentAnchorEl={null}\r\n                  transformOrigin={{ horizontal: 'left', vertical: 'top' }}\r\n                  anchorOrigin={{ horizontal: 'left', vertical: 'Bottom' }}\r\n                >\r\n                    <MenuItem onClick={() => handleMenuClick(`/profile/${auth.user.username}`)}>\r\n                        <ListItemIcon>\r\n                            <Avatar sx={{ height: '25px', width: '25px' }}/>\r\n                        </ListItemIcon>\r\n                        Profile\r\n                    </MenuItem>\r\n                    \r\n                    <MenuItem onClick={() => handleMenuClick('/account')}>\r\n                        <ListItemIcon>\r\n                            <Settings fontSize=\"small\" />\r\n                        </ListItemIcon>\r\n                        Account Settings\r\n                    </MenuItem>\r\n\r\n                    <MenuItem onClick={() => handleMenuClick('/create')}>\r\n                        <ListItemIcon>\r\n                            <AddIcon fontSize=\"small\" />\r\n                        </ListItemIcon>\r\n                        Create Game\r\n                    </MenuItem>\r\n                    \r\n                    <MenuItem onClick={() => {\r\n                        auth.logoutUser(store);\r\n                        }}>\r\n                        <ListItemIcon>\r\n                            <Logout fontSize=\"small\" />\r\n                        </ListItemIcon>\r\n                        Logout\r\n                    </MenuItem>\r\n                </Menu>\r\n            </>\r\n        );\r\n    };\r\n  \r\n    // Searching, site toggle, New Game, and logging in/out\r\n    // aren't connected to actions\r\n    const HeaderBar = (props) => {\r\n\r\n        const { auth } = useContext(AuthContext);\r\n\r\n        // this should be changed to reflect the state later\r\n        const [loggedIn, setLoggedIn] = useState(auth.loggedIn);\r\n\r\n        useEffect(() => {\r\n            setLoggedIn(auth.loggedIn);\r\n        }, [auth.loggedIn]);\r\n\r\n        return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <Box display='flex' flexGrow={1} sx = {{\r\n\r\n                }}>\r\n                    <HomeButton />\r\n                    <SearchBar/>\r\n                </Box>\r\n\r\n                <Box display='flex' sx={{\r\n                    justifyContent: 'flex-end',\r\n                    padding: 1.5,\r\n                    height: '100%',\r\n                }}>\r\n                    <SiteToggle />\r\n                    {loggedIn ? <AccountDropdown loggedIn={loggedIn} setLoggedIn={setLoggedIn}/> : <LoginButton/>}\r\n                </Box>\r\n            </Toolbar>\r\n        </AppBar>\r\n\r\n        );\r\n    }\r\n\r\nexport default HeaderBar;","import React, { useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography';\r\nimport { Grid } from '@mui/material';\r\nimport PublishedGameCard from './PublishedGameCard';\r\n\r\nimport AuthContext from '../auth';\r\nimport api from '../api'\r\nimport { useContext, useEffect } from 'react';\r\n\r\n\r\n// TODO add following functionality\r\nconst FollowButton = ({isFollowing, setIsFollowing, userInfo, auth}) => {\r\n    let follow_text = \"\";\r\n    if(isFollowing) {\r\n        follow_text = \"Unfollow\";\r\n    }\r\n    else {\r\n        follow_text = \"Follow\";\r\n    }\r\n    return (\r\n        <>\r\n        <Button\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            sx={{\r\n                px: 5\r\n            }}\r\n            onClick={async()=>{\r\n                //not following will turn into following\r\n                if(!isFollowing){\r\n                    if(userInfo){\r\n                        //update followers\r\n                        userInfo.followers.push(auth.user.email);\r\n                        await api.updateFollowers({\r\n                            email : userInfo.email,\r\n                            followers : userInfo.followers\r\n                        });\r\n\r\n                        //Update following\r\n                        auth.user.following.push(userInfo.email);\r\n                        await api.updateUser({\r\n                            email : auth.user.email,\r\n                            following : auth.user.following\r\n                        }).then(() => {\r\n                            auth.getLoggedIn();\r\n                        });\r\n                    }\r\n                }\r\n                else{                       //Unfollowing so remove from list\r\n                    //update followers\r\n                    let removedI = userInfo.followers.indexOf(auth.user.email);\r\n                    if(removedI > -1){\r\n                        userInfo.followers.splice(removedI, 1);\r\n                        await api.updateFollowers({\r\n                            email : userInfo.email,\r\n                            followers : userInfo.followers\r\n                        });\r\n                    }\r\n\r\n                    //update Following\r\n                    removedI = auth.user.following.indexOf(userInfo.email);\r\n                    if(removedI > -1){\r\n                        auth.user.following.splice(removedI, 1);\r\n                        await api.updateUser({\r\n                            email : auth.user.email,\r\n                            following : auth.user.following\r\n                        }).then(() => {\r\n                            //Only updating auth cause there is no need to update userInfo that only renders upon visiting the page\r\n                            auth.getLoggedIn();\r\n                        });\r\n                    }\r\n                }\r\n                setIsFollowing(!isFollowing);\r\n            }}\r\n        >{follow_text}</Button>\r\n        </>\r\n    );\r\n};\r\n\r\n// Component for the profile page\r\n// Displays profile information for a user\r\n// Profile Name\r\n// Completed Games\r\n// Follow/Unfollow user button\r\n// (follow button only appears if the viewer is not the user)\r\nconst Profile = (props) => {\r\n    const { auth } = useContext(AuthContext);\r\n    const params = useParams();\r\n    const [isFollowing, setIsFollowing] = useState(false);\r\n    const [userInfo, setUserInfo] = useState();\r\n    //If viewer is owner\r\n    const [isOwner, setIsOwner] = useState(false);\r\n\r\n    let user = params.username;\r\n    const [rendered, setRendered] = useState(false);\r\n\r\n\r\n    // viwer is who is viewing the profile\r\n    \r\n    useEffect(() => {\r\n        // user is whose profile is being displayed\r\n        //const {viewer, user} = props;\r\n        if(!rendered){\r\n            const callGetUser = async() => {\r\n                return await api.getUser(user).then((response) => {\r\n                    return response.data.user;\r\n                }).then((userI) => {\r\n                    console.log(userI);\r\n                    setUserInfo(userI);\r\n                });\r\n            }\r\n            callGetUser();\r\n            setRendered(true);\r\n        }\r\n    }, [rendered, userInfo, user, setIsFollowing]);\r\n\r\n\r\n    useEffect(() => {\r\n        if(userInfo && auth.user){\r\n            console.log(userInfo);\r\n            console.log(auth);\r\n            //Checks if the user has followed the profile yet\r\n            if(userInfo.followers.indexOf(auth.user.email) > -1){\r\n                setIsFollowing(true);\r\n            }\r\n\r\n            //Checks if the viewer of page is owner of page\r\n            if(auth.user.email === userInfo.email){\r\n                setIsOwner(true);\r\n            }\r\n        }\r\n    }, [setIsFollowing, setIsOwner, userInfo, auth])\r\n\r\n    // implement a list of cards of completed games\r\n    const publishedGames = [\r\n        {\r\n            creator:\"vicchan\",\r\n            gameID : \"JYGS\",\r\n            panels: [\r\n                [\"/images/1.png\", \"/images/2.png\", \"/images/3.png\", \"/images/4.png\"],\r\n                [\"/images/1.png\", \"/images/1.png\", \"/images/1.png\", \"/images/1.png\"]\r\n            ],\r\n            communityVotes: [\r\n                [\"npc1\", \"npc2\"],\r\n                []\r\n            ],\r\n            comments: [\r\n                {\r\n                  user:\"user1\",\r\n                  message:\"WOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH I can't believe what i'm seeing this reminds me of this one scene from another series. This made me want to go back and reread that series again.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user2\",\r\n                  message:\"Wow, this was the best thing I've ever seen in my life. I will never be the same. 10 out of 10, would recommend.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user3\",\r\n                  message:\"This was my favorite part! I've looked at this for over  5 hours and can't get it out my head!\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user4\",\r\n                  message:\"I hope one day I can see something as beautiful as this again. I can't believe something as amazing as this exists!\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user5\",\r\n                  message:\"I hope the user above me has a good day\",\r\n                  postDate:new Date()\r\n                },\r\n            ],\r\n            tags : [\"Unbelievable\", \"Pokemon\", \"Digimon\", \"War\"]\r\n        },\r\n        {\r\n            creator:\"victor\",\r\n            gameID : \"KUGB\",\r\n            panels: [\r\n                [\"/images/mark_oukan_crown7_blue.png\", \"/images/4.png\", \"/images/4.png\", \"/images/4.png\"],\r\n                [\"/images/1.png\", \"/images/1.png\", \"/images/1.png\", \"/images/1.png\"]\r\n            ],\r\n            communityVotes: [\r\n                [],\r\n                []\r\n            ],\r\n            comments: [\r\n                {\r\n                  user:\"user1\",\r\n                  message:\"WOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH I can't believe what i'm seeing this reminds me of this one scene from another series. This made me want to go back and reread that series again.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user2\",\r\n                  message:\"Wow, this was the best thing I've ever seen in my life. I will never be the same. 10 out of 10, would recommend.\",\r\n                  postDate:new Date()\r\n                },\r\n                {\r\n                  user:\"user3\",\r\n                  message:\"This was my favorite part! I've looked at this for over  5 hours and can't get it out my head!\",\r\n                  postDate:new Date()\r\n                }\r\n            ],\r\n            tags : [\"NewPlayer\", \"Crown\"]\r\n        }\r\n    ];\r\n\r\n    return (\r\n    <>\r\n    <Grid \r\n        container \r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"baseline\"\r\n        sx = {{\r\n            gap: 2\r\n        }}\r\n    >\r\n        <Grid item pb={2}>\r\n            <Typography variant=\"h2\">{user}'s Profile</Typography>\r\n        </Grid>\r\n    </Grid>\r\n\r\n    <Grid \r\n        container \r\n        direction=\"row\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"baseline\"\r\n        sx = {{\r\n            px: 4\r\n        }}\r\n    >\r\n        {isOwner ? null : <FollowButton isFollowing={isFollowing} setIsFollowing={setIsFollowing} userInfo={userInfo} auth={auth}/>}\r\n    </Grid>\r\n\r\n        \r\n    <Typography variant=\"h3\">Completed Games</Typography>\r\n    <Grid container className='back'>\r\n        {publishedGames.map(({creator, tags, communityVotes, comments, panels}) => (\r\n            <PublishedGameCard creator={creator} tags={tags} votes={communityVotes} comments={comments} panels={panels}/>\r\n        ))}\r\n    </Grid> \r\n    </>\r\n    );\r\n}\r\n\r\nexport default Profile;","import { useContext } from 'react';\r\nimport AuthContext from '../auth'\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { GlobalStoreContext } from '../store'\r\nimport Container from '@mui/material/Container';\r\nimport { useState } from 'react'\r\n\r\nconst LoginScreen = () => {\r\n    const { auth } = useContext(AuthContext);\r\n    const { store } = useContext(GlobalStoreContext);\r\n\r\n    const [state, setState] = useState(\"normalLogin\");\r\n\r\n\r\n    const handleLoginSubmit = (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        auth.loginUser({\r\n            email: formData.get('email'),\r\n            password: formData.get('password'),\r\n        }, store);\r\n    };\r\n\r\n    const handleEmailSubmit = (event) => {\r\n      event.preventDefault();\r\n      const formData = new FormData(event.currentTarget);\r\n      auth.getUserSecurityQuestion({\r\n          email: formData.get('email'),\r\n      }, setState, store);\r\n  };\r\n\r\n  const handleResetPassword = (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData(event.currentTarget);\r\n    auth.resetPassword({\r\n      email: state.email,\r\n      newPassword: formData.get('password'),\r\n      newPasswordVerify: formData.get('passwordVerify'),\r\n      securityAnswer: formData.get('securityAnswer')\r\n  }, setState, store);\r\n};\r\n\r\n  \r\n    function normalLogin(){\r\n      return (\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n              <Box\r\n              sx={{\r\n                marginTop: 8,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <Box component=\"form\" onSubmit={handleLoginSubmit} noValidate sx={{ mt: 1 }}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 3, mb: 2, backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}\r\n                >\r\n                  Sign In\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                  <Link component=\"button\" variant=\"body2\" onClick={()=>{\r\n                      setState(\"enterEmail\");\r\n                      }}>\r\n                      {\"Forgot password?\"}\r\n                    </Link>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Link href=\"/register/\" variant=\"body2\">\r\n                      {\"Don't have an account? Sign Up\"}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Box>\r\n          </Container>)\r\n    }\r\n\r\n    function enterEmail(){\r\n      return (\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n              <Box\r\n              sx={{\r\n                marginTop: 8,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Enter Account Email\r\n              </Typography>\r\n              <Box component=\"form\" onSubmit={handleEmailSubmit} noValidate sx={{ mt: 1 }}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 3, mb: 2, backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}\r\n                >\r\n                  Continue\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Container>)\r\n    }\r\n\r\n\r\n    function resetPassword(){\r\n      return(\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n          <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography alignContent=\"center\" component=\"h1\" variant=\"h5\">\r\n            {\"Your security Question: \" + state.securityQuestion}\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={handleResetPassword} noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"securityAnswer\"\r\n              label=\"Answer\"\r\n              name=\"securityAnswer\"\r\n              autoComplete=\"securityAnswer\"\r\n              autoFocus\r\n            />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"New Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"passwordVerify\"\r\n                    label=\"New Password Verify\"\r\n                    type=\"password\"\r\n                    id=\"passwordVerify\"\r\n                    autoComplete=\"new-password\"\r\n                />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2, backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}\r\n            >\r\n              Continue\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n    )\r\n      \r\n    }\r\n\r\n    function render(){\r\n      if(state === \"normalLogin\"){\r\n        return normalLogin();\r\n      }\r\n      else if(state === \"enterEmail\"){\r\n        return enterEmail();\r\n      }\r\n      else{\r\n        return resetPassword();\r\n      }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div className='back'>\r\n        {render()}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default LoginScreen;","import { useContext } from 'react';\r\nimport AuthContext from '../auth'\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Container from '@mui/material/Container';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Grid from '@mui/material/Grid';\r\nimport Link from '@mui/material/Link';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport { GlobalStoreContext } from '../store'\r\n\r\nconst RegisterScreen = () =>{\r\n    const { auth } = useContext(AuthContext);\r\n    const { store } = useContext(GlobalStoreContext)\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        auth.registerUser({\r\n            email: formData.get('email'),\r\n            password: formData.get('password'),\r\n            passwordVerify: formData.get('passwordVerify'),\r\n            username: formData.get('username'),\r\n            securityQuestion: formData.get('securityQuestion'),\r\n            securityAnswer: formData.get('securityAnswer')\r\n        }, store);\r\n    };\r\n\r\n    return (<div className='back'>\r\n                <Container component=\"main\" maxWidth=\"xs\">\r\n                    <CssBaseline />\r\n                    <Box\r\n                        sx={{\r\n                            marginTop: 8,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                        }}\r\n                    >\r\n                        <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n                            <LockOutlinedIcon />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            Sign up\r\n                        </Typography>\r\n                        <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        id=\"email\"\r\n                                        label=\"Email Address\"\r\n                                        name=\"email\"\r\n                                        autoComplete=\"email\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        id=\"username\"\r\n                                        label=\"User Name\"\r\n                                        name=\"username\"\r\n                                        autoComplete=\"user name\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        name=\"password\"\r\n                                        label=\"Password\"\r\n                                        type=\"password\"\r\n                                        id=\"password\"\r\n                                        autoComplete=\"new-password\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        name=\"passwordVerify\"\r\n                                        label=\"Password Verify\"\r\n                                        type=\"password\"\r\n                                        id=\"passwordVerify\"\r\n                                        autoComplete=\"new-password\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        name=\"securityQuestion\"\r\n                                        label=\"Security Question (For password recovery)\"\r\n                                        type=\"securityQuestion\"\r\n                                        id=\"securityQuestion\"\r\n                                        autoComplete=\"security-question\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                <TextField\r\n                                        required\r\n                                        fullWidth\r\n                                        name=\"securityAnswer\"\r\n                                        label=\"Security Answer (For password recovery)\"\r\n                                        type=\"securityAnswer\"\r\n                                        id=\"securityAnswer\"\r\n                                        autoComplete=\"security-answer\"\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                sx={{ mt: 3, mb: 2, backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}}\r\n                            >\r\n                                Sign Up\r\n                            </Button>\r\n                            <Grid container justifyContent=\"flex-end\">\r\n                                <Grid item>\r\n                                    <Link href=\"/login/\" variant=\"body2\">\r\n                                        Already have an account? Sign in\r\n                                    </Link>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Box>\r\n                    </Box>\r\n                </Container>\r\n            </div>\r\n    );\r\n}\r\nexport default RegisterScreen;","import { Avatar,  Button, Grid } from '@mui/material';\r\nimport SimpleImageSlider from \"react-simple-image-slider\";\r\n\r\nimport React from 'react'\r\n\r\nconst StoryCard = ({content, winner}) => {\r\n  return (\r\n    <Grid container justifyContent=\"center\" alignItems=\"center\" columnSpacing={4} mt={5}>\r\n        <Grid item xs={1}>\r\n            {winner ? <img width=\"100%\" src=\"/images/mark_oukan_crown7_blue.png\" alt=\"commVoteCrown\"></img> : ''}\r\n        </Grid>\r\n        <Grid item xs={6} className=\"slider\">\r\n            <SimpleImageSlider width={600} height={280} showBullets={true} showNavs={true} images={content} style={{marginLeft:\"10%\"}}/>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n            <Button variant=\"outlined\" size=\"large\" startIcon={<Avatar src={\"/images/heart_blur.png\"}></Avatar>}>Vote</Button>\r\n        </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default StoryCard\r\n","import { Box, Container, Typography } from '@mui/material';\r\n\r\nimport React from 'react'\r\n\r\nconst GameComment = ({user, message, postDate}) => {\r\n  return (\r\n    <Box mb={4}>\r\n      <Container style={{backgroundColor:\"white\", width:\"70%\", borderRadius:\"20px\"}}>\r\n        <Typography variant=\"h6\" align='left' style={{color:\"#4b4e6d\", textDecoration:\"underline\"}} pt={2} ml={4} mr={2}>\r\n            {user}:\r\n        </Typography>\r\n        <Typography variant=\"body1\" align='left' style={{color:\"#4b4e6d\"}} pt={1} ml={4} mr={2}>\r\n          {message}\r\n        </Typography>\r\n        <Typography variant=\"body1\" align='right' style={{color:\"#4b4e6d\"}} pt={1} pb={2} mr={2}>\r\n          Posted: {(postDate.getMonth() + 1) + \"/\" + postDate.getDate() + \"/\" + postDate.getFullYear()}\r\n        </Typography>\r\n      </Container>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default GameComment\r\n","import { Box, Button, Container, Grid, TextField, Typography } from '@mui/material';\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport StoryCard from './StoryCard';\r\nimport GameComment from './GameComment';\r\n\r\nconst GameResult = () => {\r\n  const [playerWinner, setPlayerWinner] = useState(-1);\r\n  const [commWinner, setCommWinner] = useState(-1);\r\n\r\n  //Hard coded example data\r\n  const panels=[\r\n    [\"/images/1.png\", \"/images/2.png\", \"/images/3.png\", \"/images/4.png\"],\r\n    [\"/images/1.png\", \"/images/1.png\", \"/images/1.png\", \"/images/1.png\"]\r\n  ];\r\n\r\n  const communityVotes=[\r\n    [\"npc1\", \"npc2\"],\r\n    []\r\n  ];\r\n\r\n  const comments=[\r\n    {\r\n      user:\"user1\",\r\n      message:\"WOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH I can't believe what i'm seeing this reminds me of this one scene from another series. This made me want to go back and reread that series again.\",\r\n      postDate:new Date()\r\n    },\r\n    {\r\n      user:\"user2\",\r\n      message:\"Wow, this was the best thing I've ever seen in my life. I will never be the same. 10 out of 10, would recommend.\",\r\n      postDate:new Date()\r\n    },\r\n    {\r\n      user:\"user3\",\r\n      message:\"This was my favorite part! I've looked at this for over  5 hours and can't get it out my head!\",\r\n      postDate:new Date()\r\n    },\r\n    {\r\n      user:\"user4\",\r\n      message:\"I hope one day I can see something as beautiful as this again. I can't believe something as amazing as this exists!\",\r\n      postDate:new Date()\r\n    },\r\n    {\r\n      user:\"user5\",\r\n      message:\"I hope the user above me has a good day\",\r\n      postDate:new Date()\r\n    },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    let max = -1;\r\n    let win = -1;\r\n\r\n    for(let i = 0; i < communityVotes.length; i++)\r\n    {\r\n      if(communityVotes[i].length > max){\r\n        max = communityVotes[i].length;\r\n        win = i;\r\n      }\r\n    }\r\n\r\n    setCommWinner(win);\r\n    console.log(commWinner);\r\n  }, [commWinner]);\r\n\r\n  return (\r\n    <div className='back'>\r\n      <Box textAlign='center' mt={5} className=\"Game\" >\r\n        <Button variant=\"outlined\" style={{backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"bold\"}} size=\"large\">\r\n          Play Again\r\n        </Button>\r\n\r\n        <>\r\n          {panels.map((story, index) => (\r\n            <StoryCard content={story} winner={commWinner===index}/>\r\n          ))}\r\n        </>\r\n      </Box>\r\n\r\n      <Box mt={8} className=\"Comments\" pb={5}>\r\n        <Typography variant=\"h2\" align=\"center\" style={{color:\"#4b4e6d\", textDecoration:\"underline\"}} mb={4} mt={3}>\r\n            Comments\r\n        </Typography>\r\n\r\n        <Container id=\"comment-space\" style={{width:\"72%\"}}>\r\n          <TextField id=\"comment\" variant=\"filled\" fullWidth multiline label=\"Add a comment\" ></TextField>\r\n          <Grid container justifyContent=\"right\">\r\n            <Grid item mt={2} mb={4}>\r\n              <Button style={{backgroundColor:\"#4b4e6d\", color:\"white\", fontWeight:\"600\"}}>Comment</Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        {comments.map(({user, message, postDate}) => (\r\n          <GameComment user={user} message={message} postDate={postDate}/>\r\n        ))}\r\n      </Box>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GameResult;\r\n","import { useContext, useState } from 'react'\r\nimport Button from '@mui/material/Button';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport { GlobalStoreContext } from '../store'\r\n\r\nfunction AlertModal(props) {\r\n    const { store } = useContext(GlobalStoreContext);\r\n    const [open, setOpen] = useState(false);\r\n    \r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handle close called\");\r\n        setOpen(false);\r\n    };\r\n    let name = \"\";\r\n    let errorMessage = \"\";\r\n    if(store){\r\n        errorMessage = store.errorMessage;\r\n        if(errorMessage !== null && !open){\r\n            handleOpen();\r\n        }\r\n    }\r\n    if(name !== \"\" && open !== true){\r\n        handleOpen();\r\n    }\r\n    \r\n    function handleCloseModal(event) {\r\n        event.stopPropagation();\r\n        store.setErrorMessage(null);\r\n        handleClose();\r\n    }\r\n    const style = {\r\n        display: \"flex\",\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 400,\r\n        bgcolor: 'background.paper',\r\n        border: '2px solid #000',\r\n        boxShadow: 24,\r\n        p: 4,\r\n      };\r\n    return (\r\n        <div>\r\n            <Modal\r\n            open = {open}\r\n            onClose={handleCloseModal}\r\n            aria-labelledby=\"modal-modal-title\"\r\n            aria-describedby=\"modal-modal-description\"\r\n            >\r\n            <Box sx={style}>\r\n                <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\" align=\"center\" width='100%'>\r\n                {errorMessage}\r\n                <Box style={{  justifyContent: \"space-between\", position: \"relative\"}}>\r\n                <Button variant=\"contained\" onClick={handleCloseModal} align=\"right\">Ok</Button>\r\n                </Box>\r\n                </Typography>\r\n                \r\n            </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AlertModal;","import './App.css';\r\nimport { React } from 'react'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport { AuthContextProvider } from './auth';\r\nimport {\r\n    Paint,\r\n    CreateGame,\r\n    GameLobby,\r\n    SearchResults,\r\n    AccountScreen,\r\n    HomeScreen,\r\n    ComicGameInProgressScreen,\r\n    StoryGameInProgressScreen,\r\n    HeaderBar,\r\n    Profile,\r\n    LoginScreen,\r\n    RegisterScreen\r\n  \r\n} from \"./components\";\r\nimport GameResult from './components/GameResult';\r\nimport { SocketContext, socket} from \"./context/socket\";\r\nimport { ThemeProvider } from '@emotion/react';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport { GlobalStoreContextProvider } from './store';\r\nimport { GlobalGameContextProvider } from './game';\r\nimport { CssBaseline } from '@mui/material';\r\nimport AlertModal from './components/AlertModal';\r\n\r\n\r\nconst App = () => {\r\n    console.log(socket);\r\n    console.log(SocketContext);\r\n\r\n    // applies the theme to all components\r\n    // we can potentialyl add other themes later\r\n    const default_theme = createTheme({\r\n        palette: {\r\n            primary: {\r\n              main: '#6A8D92',\r\n            },\r\n            secondary: {\r\n              main: '#9FB4C7',\r\n            },\r\n            background: {\r\n                default: '#EEEFF',\r\n            }\r\n        },\r\n      });\r\n\r\n    return (\r\n        <ThemeProvider theme={default_theme}>\r\n        <CssBaseline />\r\n        <BrowserRouter>\r\n            <AuthContextProvider>\r\n                <GlobalStoreContextProvider>\r\n                    <SocketContext.Provider value={socket}>\r\n                        <GlobalGameContextProvider>\r\n                            <HeaderBar />\r\n                            <Switch>\r\n                                <Route path=\"/\" exact component={HomeScreen} />\r\n                                <Route path=\"/account\" exact component={AccountScreen} />\r\n                                <Route path=\"/profile/:username\" exact component={Profile} />\r\n                                <Route path=\"/CGameInProgress/:id\" exact component={ComicGameInProgressScreen} />\r\n                                <Route path=\"/SGameInProgress/:id\" exact component={StoryGameInProgressScreen} />\r\n                                <Route path=\"/paint\" exact component={Paint} />\r\n                                <Route path=\"/login/\" exact component={LoginScreen} />\r\n                                <Route path=\"/register/\" exact component={RegisterScreen} />\r\n                                <Route path=\"/gameResult/:id\" exact component={GameResult}/>\r\n                                <Route path=\"/lobby\" exact component={GameLobby} />\r\n                                <Route path=\"/create\" exact component={CreateGame} />\r\n                                <Route path=\"/search\" exact component={SearchResults} />\r\n                            </Switch>\r\n                            <AlertModal></AlertModal>\r\n                        </GlobalGameContextProvider>\r\n                        </SocketContext.Provider>\r\n                    </GlobalStoreContextProvider>\r\n            </AuthContextProvider>\r\n        </BrowserRouter>\r\n        </ThemeProvider>\r\n    );\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>  \r\n      <App />\r\n      \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","const gameEvents ={\r\n    JOINING_GAME : \"JoiningGame\",\r\n    LEAVING_GAME: \"LeavingGame\",\r\n    START_GAME: \"StartGame\",\r\n    CREATE_GAME: \"CreateGame\",\r\n    ROUND_END: \"RoundEnd\",\r\n    START_ROUND: \"StartRound\",\r\n    GAME_OVER: \"GameOver\"\r\n};\r\n\r\nconst gameStatus ={\r\n    LOBBY : \"lobby\", // Waiting for players\r\n    PLAYING: \"playing\", // Drawing the games\r\n    DONE: \"done\", //We finished playing, but users are still voting\r\n    ROUND_END: \"round end\"\r\n};\r\n\r\nconst gameFailure ={\r\n    BLANK_IMAGE_ID : \"0\",\r\n    BLANK_TEXT_ID: \"0\"\r\n};\r\n\r\nmodule.exports = {\r\n    gameEvents,\r\n    gameStatus,\r\n    gameFailure\r\n}"],"sourceRoot":""}