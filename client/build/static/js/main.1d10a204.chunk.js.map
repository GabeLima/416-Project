{"version":3,"sources":["context/socket.js","config.js","components/Paint.js","App.js","index.js"],"names":["socket","socketio","connect","SocketContext","createContext","Paint","props","console","log","useContext","p","Painterro","defaultTool","hiddenTools","saveHandler","image","done","emit","asBlob","show","handleGetPicture","useCallback","save","useEffect","on","off","App","Provider","value","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oLAIaA,E,MAASC,EAASC,QCJA,yBDKlBC,EAAgBC,0B,yBEgCdC,EAjCD,SAACC,GACXC,QAAQC,IAAIL,GACZ,IAAMH,EAASS,qBAAWN,GAOpBO,EAAIC,IAAU,CAChBC,YAAa,QACbC,YAAa,CAAC,OAAQ,SAAU,OAAQ,OAAQ,SAAU,UAAW,SAAU,WAAY,WAAY,SACvGC,YAPc,SAACC,EAAOC,GACtBhB,EAAOiB,KAAK,cAAeF,EAAMG,aAOlCC,OAEGC,EAAmBC,uBAAY,WACjCd,QAAQC,IAAI,wBACZE,EAAEY,SACH,CAACZ,IAWJ,OATAa,qBAAU,WAEN,OADAvB,EAAOwB,GAAG,aAAcJ,GACjB,WAAOpB,EAAOyB,IAAI,iBAC1B,CAACzB,EAAQoB,IAML,yBCVIM,EAfH,WAGR,OAFAnB,QAAQC,IAAIR,GACZO,QAAQC,IAAIL,GAGR,cAAC,IAAD,UACI,cAACA,EAAcwB,SAAf,CAAwBC,MAAO5B,EAA/B,SACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAO6B,KAAK,IAAIC,OAAK,EAACC,UAAW1B,WCZrD2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAGJC,SAASC,eAAe,W","file":"static/js/main.1d10a204.chunk.js","sourcesContent":["import socketio from \"socket.io-client\";\r\nimport { createContext } from 'react'\r\nimport { SOCKET_ENDPOINT } from \"../config\";\r\n\r\nexport const socket = socketio.connect(SOCKET_ENDPOINT);\r\nexport const SocketContext = createContext();\r\n","export const SOCKET_ENDPOINT = \"http://localhost:3000\";\r\n","import { React, useContext, useEffect, useCallback } from 'react'\r\nimport { SocketContext } from \"../context/socket\";\r\nimport Painterro from \"painterro\"\r\n\r\nconst Paint = (props) => {\r\n    console.log(SocketContext);\r\n    const socket = useContext(SocketContext);\r\n    \r\n    \r\n    let saveHandler = (image, done) => {\r\n        socket.emit(\"sendPicture\", image.asBlob());\r\n    }\r\n\r\n    const p = Painterro({\r\n        defaultTool: \"brush\",\r\n        hiddenTools: [\"crop\", \"resize\", \"save\", \"open\", \"zoomin\", \"zoomout\", \"select\", \"settings\", \"pixelize\", \"close\"],\r\n        saveHandler: saveHandler\r\n    }).show();\r\n\r\n    const handleGetPicture = useCallback(() => {\r\n        console.log(\"Server wants picture\");\r\n        p.save();\r\n    }, [p]);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"getPicture\", handleGetPicture);\r\n        return () => {socket.off(\"getPicture\");}\r\n    }, [socket, handleGetPicture]);\r\n\r\n    \r\n    \r\n    \r\n\r\n    return <div>\r\n    </div>\r\n}\r\n\r\nexport default Paint","import { React, useState, useEffect } from 'react'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport {\r\n    Paint\r\n} from \"./components\"\r\nimport { SocketContext, socket} from \"./context/socket\";\r\n\r\n\r\nconst App = () => {\r\n    console.log(socket);\r\n    console.log(SocketContext);\r\n    return (\r\n        \r\n        <BrowserRouter>\r\n            <SocketContext.Provider value={socket}>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={Paint} />\r\n                </Switch>\r\n                </SocketContext.Provider>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>  \r\n      <App />\r\n      \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}